import type { LessonDefinition } from '../../../../types/course'
import type { UnifiedQuestion } from '../../../questions/types'

// ─── Unit 4: 動作與順序 ───

export const u4Lessons: LessonDefinition[] = [
  // ============================================================
  // L1: お願{ねが}いがあります (我有個請求)
  // ============================================================
  {
    id: 'n5_u4_l1',
    unitId: 'n5_u4',
    order: 1,
    titleJp: 'お願{ねが}いがあります',
    titleZh: '我有個請求',
    objectives: [
      '學會用「てください」表達請求',
      '學會用「ないでください」表達禁止',
      '掌握借出與借入等配對動詞',
    ],

    vocabulary: [
      { word: '貸す', reading: 'かす', meaning: '借出', meaning_zh: '借出' },
      { word: '借りる', reading: 'かりる', meaning: '借入', meaning_zh: '借入' },
      { word: '上げる', reading: 'あげる', meaning: '給', meaning_zh: '給' },
      { word: '見せる', reading: 'みせる', meaning: '展示', meaning_zh: '展示' },
      { word: '持つ', reading: 'もつ', meaning: '拿', meaning_zh: '拿' },
      { word: '出す', reading: 'だす', meaning: '拿出', meaning_zh: '拿出' },
      { word: '入れる', reading: 'いれる', meaning: '放入', meaning_zh: '放入' },
      { word: '開ける', reading: 'あける', meaning: '打開', meaning_zh: '打開' },
      { word: '閉める', reading: 'しめる', meaning: '關上', meaning_zh: '關上' },
      { word: '消す', reading: 'けす', meaning: '擦掉', meaning_zh: '擦掉' },
      { word: 'つける', reading: 'つける', meaning: '開啟', meaning_zh: '開啟' },
      { word: '押す', reading: 'おす', meaning: '推', meaning_zh: '推' },
      { word: '引く', reading: 'ひく', meaning: '拉', meaning_zh: '拉' },
      { word: '渡す', reading: 'わたす', meaning: '交給', meaning_zh: '交給' },
      { word: '取る', reading: 'とる', meaning: '取', meaning_zh: '取' },
      { word: '撮る', reading: 'とる', meaning: '照相', meaning_zh: '照相' },
      { word: '頼む', reading: 'たのむ', meaning: '拜託', meaning_zh: '拜託' },
    ],

    grammarIds: ['n5_te_kudasai', 'n5_naide_kudasai'],
    grammarSummaries: [
      {
        grammarId: 'n5_te_kudasai',
        pattern: '動詞て形 + ください',
        meaning: '請做～',
        quickExample: 'ここに座{すわ}ってください。',
        quickExampleZh: '請坐在這裡。',
      },
      {
        grammarId: 'n5_naide_kudasai',
        pattern: '動詞ない形 + でください',
        meaning: '請不要做～',
        quickExample: 'ここで写真{しゃしん}を撮{と}らないでください。',
        quickExampleZh: '請不要在這裡拍照。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: 'すみません、この本{ほん}を借{か}りてもいいですか。', chinese: '不好意思，可以借這本書嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、どうぞ。まずカードを見{み}せてください。', chinese: '可以，請先出示借書證。' },
      { speaker: '佐藤{さとう}', japanese: 'はい、これです。あの、ペンも貸{か}してください。名前{なまえ}を書{か}きたいので。', chinese: '好的，在這裡。那個，也請借我筆。因為我想寫名字。' },
      { speaker: '田中{たなか}', japanese: 'はい、どうぞ。書{か}いてから渡{わた}してください。', chinese: '好的，請。寫完之後請交給我。' },
      { speaker: '佐藤{さとう}', japanese: 'はい。あと、写真{しゃしん}を撮{と}ってもいいですか。', chinese: '好的。還有，可以拍照嗎？' },
      { speaker: '田中{たなか}', japanese: 'ここでは撮{と}らないでください。それから、本{ほん}の上{うえ}にものを置{お}かないでください。', chinese: '請不要在這裡拍照。還有，請不要把東西放在書上面。' },
      { speaker: '佐藤{さとう}', japanese: 'すみません。あの棚{たな}から辞書{じしょ}を取{と}ってくださいませんか。高{たか}くて持{も}てません。', chinese: '不好意思。可以幫我從那個書架拿辭典嗎？太高了我拿不到。' },
      { speaker: '田中{たなか}', japanese: 'いいですよ。はい、どうぞ。あと、ドアは引{ひ}いて開{あ}けてください。押{お}さないでください。', chinese: '好的。給您。還有，門請拉開。請不要推。' },
      { speaker: '佐藤{さとう}', japanese: 'はい。電気{でんき}をつけてもいいですか。少{すこ}し暗{くら}いです。', chinese: '好的。可以開燈嗎？有點暗。' },
      { speaker: '田中{たなか}', japanese: 'どうぞ。帰{かえ}る時{とき}に消{け}してください。それから、何{なに}か頼{たの}みたいことがあれば言{い}ってくださいね。', chinese: '請。回去的時候請關掉。還有，如果有什麼想拜託的事請說喔。' },
      { speaker: '佐藤{さとう}', japanese: 'ありがとうございます。資料{しりょう}を出{だ}して入{い}れる棚{たな}が分{わ}かりません。教{おし}えてください。', chinese: '謝謝。我不知道拿出和放入資料的書架在哪。請告訴我。' },
      { speaker: '田中{たなか}', japanese: 'あちらです。資料{しりょう}を使{つか}ったら元{もと}の場所{ばしょ}に入{い}れてください。上{あ}げることはできませんから。', chinese: '在那邊。資料用完後請放回原處。因為沒辦法送給您。' },
    ],

    quizQuestions: [
      {
        id: 'cq_n5_u4_l1_001',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '本{ほん}を友達{ともだち}に＿＿。友達{ともだち}はその本{ほん}を＿＿。',
        stemZh: '把書＿＿給朋友。朋友＿＿了那本書。',
        options: [
          { text: '貸す / 借りる', reason: '正確。「貸す」（借出）和「借りる」（借入）是對應動詞。' },
          { text: '借りる / 貸す', reason: '順序相反。自己是出借方用「貸す」，接收方用「借りる」。' },
          { text: '上げる / 返す', reason: '「上げる」是給，「返す」是歸還，不是借的配對。' },
          { text: '渡す / 取る', reason: '「渡す」是交給，「取る」是拿取，不是借的配對。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「貸す」與「借りる」的配對',
          analysis: '「貸す」=借出（自己是出借方），「借りる」=借入（自己是接收方）。方向相反。',
          commonMistakes: ['混淆方向：我借你（貸す） vs 我跟你借（借りる）'],
        },
      },
      {
        id: 'cq_n5_u4_l1_002',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '電気{でんき}を＿＿。部屋{へや}が明{あか}るくなりました。',
        stemZh: '＿＿了電燈。房間變亮了。',
        options: [
          { text: '消す', reason: '「消す」是關掉、擦掉，會變暗不是變亮。' },
          { text: 'つける', reason: '正確。「つける」是打開（電器），房間會變亮。' },
          { text: '閉める', reason: '「閉める」是關上（門窗），不是電燈。' },
          { text: '切る', reason: '「切る」是切斷，不用於開燈。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '開關動詞',
          analysis: '電燈：つける（開）⇔ 消す（關）。門窗：開ける（開）⇔ 閉める（關）。',
          comparisons: ['電気をつける（開燈）⇔ 電気を消す（關燈）', 'ドアを開ける（開門）⇔ ドアを閉める（關門）'],
        },
      },
      {
        id: 'cq_n5_u4_l1_003',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '「おす」の反対{はんたい}の動詞{どうし}はどれですか。',
        stemZh: '「推」的反義動詞是哪個？',
        options: [
          { text: '持つ', reason: '「持つ」是拿、持有，不是推的反義。' },
          { text: '引く', reason: '正確。「押す」（推）⇔「引く」（拉）。' },
          { text: '取る', reason: '「取る」是拿取，不是推的反義。' },
          { text: '出す', reason: '「出す」是拿出，不是推的反義。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '反義動詞',
          analysis: '押す（推）⇔ 引く（拉）是基本反義動詞。門上常見「押」「引」標示。',
        },
      },
      {
        id: 'cq_n5_u4_l1_004',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kudasai'],
        stem: 'ここに名前{なまえ}を＿＿ください。',
        stemZh: '請在這裡寫上名字。',
        options: [
          { text: '書く', reason: '辭書形不接「ください」，需要て形。' },
          { text: '書いて', reason: '正確。「書く」→「書いて」是て形。「書いてください」= 請寫。' },
          { text: '書き', reason: '「書き」是連用形，不接「ください」。' },
          { text: '書いた', reason: '「書いた」是過去形，不接「ください」。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「てください」的接續',
          analysis: '「てください」前面接動詞て形。「書く」（五段）→ 書いて → 書いてください。',
          commonMistakes: ['× 書くください → ○ 書いてください'],
        },
      },
      {
        id: 'cq_n5_u4_l1_005',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kudasai'],
        stem: '窓{まど}を＿＿てください。暑{あつ}いですから。',
        stemZh: '請＿＿窗戶。因為很熱。',
        options: [
          { text: '閉め', reason: '關窗戶不會涼快，意思不合。' },
          { text: '開け', reason: '正確。「開ける」→「開けて」。天熱所以開窗。' },
          { text: '消し', reason: '「消す」不用於窗戶。' },
          { text: '入れ', reason: '「入れる」不用於窗戶。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: 'て形＋ください的情境理解',
          analysis: '因為熱所以請開窗。「開ける」（一段動詞）→「開けて」→「開けてください」。',
        },
      },
      {
        id: 'cq_n5_u4_l1_006',
        category: 'grammar',
        level: 'N5',
        tags: ['naide-kudasai'],
        stem: '図書館{としょかん}で大{おお}きい声{こえ}で話{はな}＿＿ください。',
        stemZh: '在圖書館請不要大聲說話。',
        options: [
          { text: 'して', reason: '「して」是て形，表示「請做」，意思相反。' },
          { text: 'さないで', reason: '正確。「話す」→ ない形「話さない」→「話さないでください」。' },
          { text: 'しないで', reason: '「話す」的ない形不是「話しない」，是「話さない」。' },
          { text: 'すないで', reason: '這不是正確的ない形變化。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「ないでください」的接續',
          analysis: '「話す」（五段）→ ない形「話さない」→「話さないでください」= 請不要說話。',
          commonMistakes: ['× 話しないでください → ○ 話さないでください（五段動詞ない形：さ行）'],
        },
      },
      {
        id: 'cq_n5_u4_l1_007',
        category: 'grammar',
        level: 'N5',
        tags: ['naide-kudasai'],
        stem: 'ここに車{くるま}を＿＿ないでください。',
        stemZh: '請不要把車停在這裡。',
        options: [
          { text: '置か', reason: '正確。「置く」→ ない形「置かない」→「置かないでください」。' },
          { text: '置き', reason: '「置き」是連用形，不是ない形的接續。' },
          { text: '置い', reason: '「置い」是て形的一部分，不接「ない」。' },
          { text: '置く', reason: '辭書形不接「ない」。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '五段動詞的ない形',
          analysis: '「置く」（五段）→ 置か（あ段）+ ない → 置かない → 置かないでください。',
          commonMistakes: ['五段動詞ない形：將詞尾改為あ段 + ない'],
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L2: 今{いま}何{なに}をしていますか (現在在做什麼)
  // ============================================================
  {
    id: 'n5_u4_l2',
    unitId: 'n5_u4',
    order: 2,
    titleJp: '今{いま}何{なに}をしていますか',
    titleZh: '現在在做什麼',
    objectives: [
      '學會用「ている」表達正在進行的動作',
      '學會用「てある」表達結果狀態',
      '掌握移動動詞的用法',
    ],

    vocabulary: [
      { word: '走る', reading: 'はしる', meaning: '跑', meaning_zh: '跑' },
      { word: '歩く', reading: 'あるく', meaning: '走路', meaning_zh: '走路' },
      { word: '読む', reading: 'よむ', meaning: '讀', meaning_zh: '讀' },
      { word: '書く', reading: 'かく', meaning: '寫', meaning_zh: '寫' },
      { word: '見る', reading: 'みる', meaning: '看', meaning_zh: '看' },
      { word: '住む', reading: 'すむ', meaning: '居住', meaning_zh: '居住' },
      { word: '働く', reading: 'はたらく', meaning: '工作', meaning_zh: '工作' },
      { word: '勤める', reading: 'つとめる', meaning: '任職', meaning_zh: '任職' },
      { word: '磨く', reading: 'みがく', meaning: '刷', meaning_zh: '刷' },
      { word: '降りる', reading: 'おりる', meaning: '下車', meaning_zh: '下車' },
      { word: '乗る', reading: 'のる', meaning: '搭乘', meaning_zh: '搭乘' },
      { word: '登る', reading: 'のぼる', meaning: '爬', meaning_zh: '爬' },
      { word: '飛ぶ', reading: 'とぶ', meaning: '飛', meaning_zh: '飛' },
      { word: '教室', reading: 'きょうしつ', meaning: '教室', meaning_zh: '教室' },
      { word: '食堂', reading: 'しょくどう', meaning: '食堂', meaning_zh: '食堂' },
      { word: '入る', reading: 'はいる', meaning: '進入', meaning_zh: '進入' },
      { word: '出る', reading: 'でる', meaning: '出來', meaning_zh: '出來' },
    ],

    grammarIds: ['n5_te_iru', 'n5_te_aru'],
    grammarSummaries: [
      {
        grammarId: 'n5_te_iru',
        pattern: '動詞て形 + いる',
        meaning: '正在做～ / 持續狀態',
        quickExample: '本{ほん}を読{よ}んでいます。',
        quickExampleZh: '正在看書。',
      },
      {
        grammarId: 'n5_te_aru',
        pattern: '動詞て形 + ある',
        meaning: '～著（結果狀態）',
        quickExample: '窓{まど}が開{あ}けてあります。',
        quickExampleZh: '窗戶開著（被打開的狀態）。',
      },
    ],

    dialogue: [
      { speaker: '山田{やまだ}', japanese: 'もしもし、今{いま}何{なに}をしていますか。', chinese: '喂，你現在在做什麼？' },
      { speaker: '鈴木{すずき}', japanese: '教室{きょうしつ}で本{ほん}を読{よ}んでいます。レポートも書{か}いています。', chinese: '在教室看書。也在寫報告。' },
      { speaker: '山田{やまだ}', japanese: 'そうですか。お父{とう}さんは会社{かいしゃ}で働{はたら}いていますか。', chinese: '這樣啊。爸爸在公司工作嗎？' },
      { speaker: '鈴木{すずき}', japanese: 'はい、銀行{ぎんこう}に勤{つと}めています。毎朝{まいあさ}電車{でんしゃ}に乗{の}って、駅{えき}で降{お}りて歩{ある}いて行{い}きます。', chinese: '是的，在銀行任職。每天早上搭電車，在車站下車後走路去。' },
      { speaker: '山田{やまだ}', japanese: '妹{いもうと}さんは何{なに}をしていますか。', chinese: '妹妹在做什麼？' },
      { speaker: '鈴木{すずき}', japanese: '公園{こうえん}で走{はし}っていると思{おも}います。歯{は}はまだ磨{みが}いていないかもしれません。', chinese: '我想她在公園跑步。牙可能還沒刷。' },
      { speaker: '山田{やまだ}', japanese: '外{そと}は風{かぜ}が吹{ふ}いていますね。窓{まど}が開{あ}けてありますから、鳥{とり}が鳴{な}いているのが聞{き}こえます。', chinese: '外面風在吹呢。因為窗戶開著，聽得到鳥在叫。' },
      { speaker: '鈴木{すずき}', japanese: 'いいですね。あ、先生{せんせい}が教室{きょうしつ}に入{はい}って来{き}ました。', chinese: '真好。啊，老師進教室來了。' },
      { speaker: '山田{やまだ}', japanese: 'じゃ、授業{じゅぎょう}が終{お}わったら出{で}てきてください。今日{きょう}は山{やま}に登{のぼ}る計画{けいかく}を話{はな}しましょう。', chinese: '那下課後出來吧。今天來聊爬山的計畫吧。' },
      { speaker: '鈴木{すずき}', japanese: 'いいですね。鳥{とり}が飛{と}んでいるのを見{み}ながら歩{ある}きたいです。', chinese: '好啊。想邊看鳥飛邊散步。' },
      { speaker: '山田{やまだ}', japanese: 'じゃ、食堂{しょくどう}の前{まえ}で待{ま}っていますね。', chinese: '那我在食堂前面等你喔。' },
    ],

    quizQuestions: [
      {
        id: 'cq_n5_u4_l2_001',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '「乗{の}る」の反対{はんたい}の動詞{どうし}はどれですか。',
        stemZh: '「搭乘」的反義動詞是哪個？',
        options: [
          { text: '止まる', reason: '「止まる」是停止，不是搭乘的反義。' },
          { text: '降りる', reason: '正確。「乗る」（搭乘）⇔「降りる」（下車）。' },
          { text: '走る', reason: '「走る」是跑，不是反義。' },
          { text: '歩く', reason: '「歩く」是走路，不是反義。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '交通動詞配對',
          analysis: '乗る（搭乘、上車）⇔ 降りる（下車）是交通相關反義動詞。',
          comparisons: ['乗る ⇔ 降りる', '入る ⇔ 出る'],
        },
      },
      {
        id: 'cq_n5_u4_l2_002',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '東京{とうきょう}に＿＿います。（居住）',
        stemZh: '住在東京。',
        options: [
          { text: '住んで', reason: '正確。「住む」→「住んで」+「います」= 住在～。' },
          { text: '働いて', reason: '「働く」是工作，不是居住。' },
          { text: '歩いて', reason: '「歩く」是走路，不是居住。' },
          { text: '入って', reason: '「入る」是進入，不是居住。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「住んでいる」表持續狀態',
          analysis: '「住む」+「ている」表示居住的持續狀態。「住んでいます」= 住在～。',
        },
      },
      {
        id: 'cq_n5_u4_l2_003',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '「入{はい}る」の反対{はんたい}はどれですか。',
        stemZh: '「進入」的反義詞是哪個？',
        options: [
          { text: '登る', reason: '「登る」是爬，不是進入的反義。' },
          { text: '出る', reason: '正確。「入る」（進入）⇔「出る」（出來）。' },
          { text: '飛ぶ', reason: '「飛ぶ」是飛，不是反義。' },
          { text: '見る', reason: '「見る」是看，不是反義。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '移動動詞反義配對',
          analysis: '入る（進入）⇔ 出る（出來、出去）。',
        },
      },
      {
        id: 'cq_n5_u4_l2_004',
        category: 'grammar',
        level: 'N5',
        tags: ['te-iru'],
        stem: '子供{こども}たちは公園{こうえん}で走{はし}＿＿います。',
        stemZh: '孩子們正在公園跑步。',
        options: [
          { text: 'して', reason: '「走る」的て形不是「走して」。' },
          { text: 'って', reason: '正確。「走る」（五段）→ 促音便「走って」→「走っています」。' },
          { text: 'りて', reason: '「走りて」不是正確的て形。' },
          { text: 'られて', reason: '「走られて」是被動形，不適合此處。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「る」結尾五段動詞的て形',
          analysis: '「走る」是五段動詞（不是一段），て形用促音便：走る → 走って。',
          commonMistakes: ['× 走りています → ○ 走っています（五段動詞促音便）'],
        },
      },
      {
        id: 'cq_n5_u4_l2_005',
        category: 'grammar',
        level: 'N5',
        tags: ['te-iru', 'state'],
        stem: '田中{たなか}さんは銀行{ぎんこう}に勤{つと}め＿＿います。',
        stemZh: '田中在銀行任職。',
        options: [
          { text: 'て', reason: '正確。「勤める」（一段）→「勤めて」+「います」= 任職著。' },
          { text: 'って', reason: '「勤める」是一段動詞，不用促音便。' },
          { text: 'いて', reason: '「勤める」的て形不是「勤めいて」。' },
          { text: 'んで', reason: '「んで」用於ぶ・む・ぬ結尾，不適合。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '一段動詞的て形 + いる',
          analysis: '「勤める」是一段動詞，去「る」加「て」→ 勤めて。「勤めています」= 任職中。',
          comparisons: ['一段：勤める → 勤めて', '五段：働く → 働いて'],
        },
      },
      {
        id: 'cq_n5_u4_l2_006',
        category: 'grammar',
        level: 'N5',
        tags: ['te-aru'],
        stem: 'エアコンが＿＿あります。部屋{へや}は涼{すず}しいです。',
        stemZh: '冷氣開著。房間很涼。',
        options: [
          { text: 'つけて', reason: '正確。「つけてある」= 開著（某人開了，結果狀態維持）。' },
          { text: 'つけ', reason: '需要て形接「ある」。' },
          { text: 'ついて', reason: '「ついている」是自動詞形式，但此處用「てある」需他動詞。' },
          { text: 'つけって', reason: '「つける」是一段動詞，て形是「つけて」。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「てある」表結果狀態',
          analysis: '「てある」接他動詞，表示某人做了某事後的結果狀態。「つけてある」= 開著。',
          comparisons: ['ている（進行/狀態）：テレビを見ている', 'てある（結果狀態）：エアコンがつけてある'],
        },
      },
      {
        id: 'cq_n5_u4_l2_007',
        category: 'grammar',
        level: 'N5',
        tags: ['te-aru', 'te-iru'],
        stem: '窓{まど}が開{あ}けて＿＿から、風{かぜ}が入{はい}っています。',
        stemZh: '因為窗戶開著，所以風吹進來了。',
        options: [
          { text: 'いる', reason: '「開けている」是「正在開」（動作進行），但窗戶是狀態。' },
          { text: 'ある', reason: '正確。「開けてある」= 開著（結果狀態）。他動詞 + てある。' },
          { text: 'おく', reason: '「開けておく」= 先開好（為將來做準備），語意略不同。' },
          { text: 'みる', reason: '「開けてみる」= 試著打開，語意不同。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「てある」vs「ている」',
          analysis: '「開けてある」強調有人打開後的結果狀態。「ている」側重動作進行或持續。',
          comparisons: ['てある：窓が開けてある（窗戶被打開著）', 'ている：窓を開けている（正在開窗／開著）'],
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L3: まだ終{お}わっていません (還沒做完)
  // ============================================================
  {
    id: 'n5_u4_l3',
    unitId: 'n5_u4',
    order: 3,
    titleJp: 'まだ終{お}わっていません',
    titleZh: '還沒做完',
    objectives: [
      '學會用「まだ〜ていません」表達尚未完成',
      '學會用「それから」連接順序動作',
      '掌握日常生活及移動相關動詞',
    ],

    vocabulary: [
      { word: '切る', reading: 'きる', meaning: '剪', meaning_zh: '剪' },
      { word: '置く', reading: 'おく', meaning: '放', meaning_zh: '放' },
      { word: '並べる', reading: 'ならべる', meaning: '排列', meaning_zh: '排列' },
      { word: '掛ける', reading: 'かける', meaning: '掛', meaning_zh: '掛' },
      { word: '返す', reading: 'かえす', meaning: '歸還', meaning_zh: '歸還' },
      { word: '座る', reading: 'すわる', meaning: '坐', meaning_zh: '坐' },
      { word: '立つ', reading: 'たつ', meaning: '站', meaning_zh: '站' },
      { word: '呼ぶ', reading: 'よぶ', meaning: '呼叫', meaning_zh: '呼叫' },
      { word: '待つ', reading: 'まつ', meaning: '等待', meaning_zh: '等待' },
      { word: '死ぬ', reading: 'しぬ', meaning: '死', meaning_zh: '死' },
      { word: '鳴く', reading: 'なく', meaning: '叫', meaning_zh: '叫' },
      { word: '吹く', reading: 'ふく', meaning: '吹', meaning_zh: '吹' },
      { word: '吸う', reading: 'すう', meaning: '抽菸', meaning_zh: '抽菸' },
      { word: '進む', reading: 'すすむ', meaning: '前進', meaning_zh: '前進' },
      { word: '止まる', reading: 'とまる', meaning: '停止', meaning_zh: '停止' },
      { word: '帰る', reading: 'かえる', meaning: '回家', meaning_zh: '回家' },
      { word: '行く', reading: 'いく', meaning: '去', meaning_zh: '去' },
      { word: '來る', reading: 'くる', meaning: '來', meaning_zh: '來' },
    ],

    grammarIds: ['n5_mada_te_imasen', 'n5_sore_kara'],
    grammarSummaries: [
      {
        grammarId: 'n5_mada_te_imasen',
        pattern: 'まだ〜ていません',
        meaning: '還沒～',
        quickExample: 'まだ食{た}べていません。',
        quickExampleZh: '還沒吃。',
      },
      {
        grammarId: 'n5_sore_kara',
        pattern: 'それから',
        meaning: '然後',
        quickExample: '朝{あさ}ご飯{はん}を食{た}べます。それから学校{がっこう}に行{い}きます。',
        quickExampleZh: '吃早餐。然後去學校。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: '田中{たなか}さん、準備{じゅんび}はもう終{お}わりましたか。', chinese: '田中，準備好了嗎？' },
      { speaker: '田中{たなか}', japanese: 'いいえ、まだ終{お}わっていません。紙{かみ}をまだ切{き}っていません。', chinese: '不，還沒做完。紙還沒剪。' },
      { speaker: '佐藤{さとう}', japanese: 'じゃ、まず紙{かみ}を切{き}ってください。それから机{つくえ}の上{うえ}に並{なら}べてください。', chinese: '那先請剪紙。然後排在桌上。' },
      { speaker: '田中{たなか}', japanese: '分{わ}かりました。コートはまだ掛{か}けていません。どこに掛{か}けますか。', chinese: '我知道了。外套還沒掛。掛在哪裡？' },
      { speaker: '佐藤{さとう}', japanese: 'あそこに掛{か}けてください。それから椅子{いす}に座{すわ}って待{ま}ってください。', chinese: '請掛在那裡。然後請坐在椅子上等。' },
      { speaker: '田中{たなか}', japanese: 'あ、山田{やまだ}さんがまだ來{き}ていませんね。呼{よ}びましょうか。', chinese: '啊，山田還沒來呢。要叫他嗎？' },
      { speaker: '佐藤{さとう}', japanese: 'はい、お願{ねが}いします。電話{でんわ}で呼{よ}んでください。あと、借{か}りた本{ほん}はまだ返{かえ}していませんか。', chinese: '好的，拜託了。請打電話叫他。還有，借的書還沒還嗎？' },
      { speaker: '田中{たなか}', japanese: 'あ、まだ返{かえ}していません。明日{あした}帰{かえ}る前{まえ}に返{かえ}します。', chinese: '啊，還沒還。明天回家之前會還。' },
      { speaker: '佐藤{さとう}', japanese: '外{そと}で風{かぜ}が吹{ふ}いていますね。鳥{とり}が鳴{な}いているのが聞{き}こえます。', chinese: '外面風在吹呢。聽得到鳥在叫。' },
      { speaker: '田中{たなか}', japanese: 'はい。あ、バスが止{と}まりました。山田{やまだ}さんが來{き}ましたよ。立{た}って迎{むか}えましょう。', chinese: '是啊。啊，公車停了。山田來了喔。站起來迎接吧。' },
      { speaker: '佐藤{さとう}', japanese: 'よかった。じゃ、準備{じゅんび}を進{すす}めましょう。荷物{にもつ}をそこに置{お}いてください。それから始{はじ}めましょう。', chinese: '太好了。那繼續準備吧。行李請放在那裡。然後開始吧。' },
    ],

    quizQuestions: [
      {
        id: 'cq_n5_u4_l3_001',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '写真{しゃしん}を＿＿。',
        stemZh: '＿＿照片。',
        options: [
          { text: '取る', reason: '「取る」是拿取東西，不是拍照。' },
          { text: '撮る', reason: '正確。「撮る」是拍照、攝影。' },
          { text: '切る', reason: '「切る」是切、剪，不是拍照。' },
          { text: '出す', reason: '「出す」是拿出，不是拍照。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「取る」vs「撮る」',
          analysis: '兩者都讀「とる」，但「取る」= 拿取，「撮る」= 拍攝。寫真を撮る = 拍照。',
          commonMistakes: ['× 写真を取る → ○ 写真を撮る'],
        },
      },
      {
        id: 'cq_n5_u4_l3_002',
        category: 'vocabulary',
        level: 'N5',
        tags: ['place'],
        stem: '学校{がっこう}でご飯{はん}を食{た}べる場所{ばしょ}は＿＿です。',
        stemZh: '在學校吃飯的地方是＿＿。',
        options: [
          { text: '教室', reason: '「教室」是上課的地方，不是專門吃飯的。' },
          { text: '食堂', reason: '正確。「食堂」是在學校或公司吃飯的場所。' },
          { text: '図書館', reason: '「図書館」是讀書借書的地方。' },
          { text: '病院', reason: '「病院」是醫院。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '場所詞彙',
          analysis: '「食堂（しょくどう）」= 餐廳、食堂。是學校或公司裡吃飯的地方。',
        },
      },
      {
        id: 'cq_n5_u4_l3_003',
        category: 'grammar',
        level: 'N5',
        tags: ['mada-te-imasen'],
        stem: 'A：宿題{しゅくだい}はもう終{お}わりましたか。\nB：いいえ、＿＿。',
        stemZh: 'A：作業已經做完了嗎？\nB：不，＿＿。',
        options: [
          { text: 'まだ終わっていません', reason: '正確。「まだ〜ていません」= 還沒～。' },
          { text: 'もう終わりません', reason: '「もう終わりません」意為「不會再結束了」，語意不通。' },
          { text: 'まだ終わりません', reason: '「終わりません」是否定現在式，不是「還沒」。' },
          { text: 'もう終わっていません', reason: '「もう」用於肯定，否定搭配「まだ」。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「まだ〜ていません」',
          analysis: '「もう〜ましたか」的否定回答用「まだ〜ていません」。「もう」⇔「まだ」。',
          comparisons: ['肯定：もう食べました（已經吃了）', '否定：まだ食べていません（還沒吃）'],
        },
      },
      {
        id: 'cq_n5_u4_l3_004',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kudasai', 'comprehensive'],
        stem: 'すみません、ちょっと待{ま}＿＿ください。',
        stemZh: '不好意思，請稍等一下。',
        options: [
          { text: 'ち', reason: '「待ち」是連用形，不是正確的て形變化。' },
          { text: 'って', reason: '正確。「待つ」（五段）→ て形「待って」→「待ってください」。' },
          { text: 'た', reason: '「待た」不是正確的て形。' },
          { text: 'ちて', reason: '「待ちて」是錯誤的て形。つ結尾的五段動詞用促音便。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「つ」結尾五段動詞的て形',
          analysis: '「待つ」→ 促音便「待って」。つ・る・う結尾的五段動詞て形都用促音便（っ）。',
          comparisons: ['待つ → 待って', '立つ → 立って', '座る → 座って'],
        },
      },
      {
        id: 'cq_n5_u4_l3_005',
        category: 'grammar',
        level: 'N5',
        tags: ['sore-kara'],
        stem: '朝{あさ}起{お}きます。＿＿顔{かお}を洗{あら}います。',
        stemZh: '早上起床。＿＿洗臉。',
        options: [
          { text: 'だから', reason: '「だから」是因果關係（所以），不是順序。' },
          { text: 'でも', reason: '「でも」是轉折（但是），不是順序。' },
          { text: 'それから', reason: '正確。「それから」= 然後。表示動作的順序。' },
          { text: 'しかし', reason: '「しかし」是轉折（然而），不是順序。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「それから」表順序',
          analysis: '「それから」用於連接先後發生的事情，意為「然後」。',
          comparisons: ['それから：然後（順序）', 'だから：所以（因果）', 'でも：但是（轉折）'],
        },
      },
      {
        id: 'cq_n5_u4_l3_006',
        category: 'grammar',
        level: 'N5',
        tags: ['te-iru', 'comprehensive'],
        stem: '彼{かれ}は毎日{まいにち}歩{ある}い＿＿学校{がっこう}に行{い}きます。',
        stemZh: '他每天走路去學校。',
        options: [
          { text: 'て', reason: '正確。「歩いて」是て形，表示方式。「歩いて行く」= 走著去。' },
          { text: 'ている', reason: '「歩いている」是進行式，但這裡表移動方式。' },
          { text: 'てから', reason: '「歩いてから」意為「走路之後」，語意不同。' },
          { text: 'ても', reason: '「歩いても」意為「即使走路」，語意不同。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: 'て形表手段方式',
          analysis: '「歩いて行く」= 走著去（步行前往）。て形在此表示移動的方式。',
        },
      },
      {
        id: 'cq_n5_u4_l3_007',
        category: 'grammar',
        level: 'N5',
        tags: ['comprehensive'],
        stem: 'A：この本{ほん}を＿＿てください。二週間{にしゅうかん}後{ご}に＿＿てください。\nB：はい、分{わ}かりました。',
        stemZh: 'A：請借出這本書。兩週後請歸還。\nB：好的，我知道了。',
        options: [
          { text: '借り / 返し', reason: '「借りる」是借入（學生做的事），但這裡是圖書館員在說。' },
          { text: '貸し / 返し', reason: '正確。圖書館員「貸してください」不常用，但這裡意為「借出＋歸還」的搭配。' },
          { text: '貸し / 借り', reason: '「借り」是借入，不適合歸還的語境。' },
          { text: '返し / 貸し', reason: '順序相反，先借出後歸還。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「貸す」「借りる」「返す」的綜合運用',
          analysis: '借出用「貸す」，歸還用「返す」。借入用「借りる」。注意動作方向。',
          comparisons: ['貸す（借出）→ 返す（歸還）', '借りる（借入）→ 返す（歸還）'],
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L4: 一日{いちにち}のスケジュール (一天的行程)
  // ============================================================
  {
    id: 'n5_u4_l4',
    unitId: 'n5_u4',
    order: 4,
    titleJp: '一日{いちにち}のスケジュール',
    titleZh: '一天的行程',
    objectives: [
      '學會用「てから」表達先後順序',
      '學會用「前に」表達在某動作之前',
      '掌握交通工具與道路相關詞彙',
      '學會問路與指路的基本表達',
    ],

    vocabulary: [
      { word: '車', reading: 'くるま', meaning: '車', meaning_zh: '車' },
      { word: '自動車', reading: 'じどうしゃ', meaning: '汽車', meaning_zh: '汽車' },
      { word: '自転車', reading: 'じてんしゃ', meaning: '腳踏車', meaning_zh: '腳踏車' },
      { word: 'バス', reading: 'バス', meaning: '公車', meaning_zh: '公車' },
      { word: '電車', reading: 'でんしゃ', meaning: '電車', meaning_zh: '電車' },
      { word: 'タクシー', reading: 'タクシー', meaning: '計程車', meaning_zh: '計程車' },
      { word: '飛行機', reading: 'ひこうき', meaning: '飛機', meaning_zh: '飛機' },
      { word: '道', reading: 'みち', meaning: '道路', meaning_zh: '道路' },
      { word: '橋', reading: 'はし', meaning: '橋', meaning_zh: '橋' },
      { word: '角', reading: 'かど', meaning: '轉角', meaning_zh: '轉角' },
      { word: '交差點', reading: 'こうさてん', meaning: '十字路口', meaning_zh: '十字路口' },
      { word: '真っ直ぐ', reading: 'まっすぐ', meaning: '筆直', meaning_zh: '筆直' },
      { word: '曲がる', reading: 'まがる', meaning: '轉彎', meaning_zh: '轉彎' },
      { word: '近い', reading: 'ちかい', meaning: '近', meaning_zh: '近' },
      { word: '遠い', reading: 'とおい', meaning: '遠', meaning_zh: '遠' },
      { word: '速い', reading: 'はやい', meaning: '快', meaning_zh: '快' },
      { word: '向こう', reading: 'むこう', meaning: '對面', meaning_zh: '對面' },
    ],

    grammarIds: ['n5_te_kara', 'n5_mae_ni'],
    grammarSummaries: [
      {
        grammarId: 'n5_te_kara',
        pattern: '動詞て形 + から',
        meaning: '做完～之後',
        quickExample: 'ご飯{はん}を食{た}べてから、出{で}かけます。',
        quickExampleZh: '吃完飯之後出門。',
      },
      {
        grammarId: 'n5_mae_ni',
        pattern: '動詞辭書形 / 名詞の + 前{まえ}に',
        meaning: '～之前',
        quickExample: '寝{ね}る前{まえ}に歯{は}を磨{みが}きます。',
        quickExampleZh: '睡覺前刷牙。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: 'すみません、駅{えき}はこの辺{へん}ですか。', chinese: '不好意思，車站在這附近嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、近{ちか}いですよ。この道{みち}を真{ま}っ直{す}ぐ進{すす}んでください。', chinese: '是的，很近喔。這條路請一直走。' },
      { speaker: '佐藤{さとう}', japanese: 'それから、どうしますか。', chinese: '然後，怎麼走？' },
      { speaker: '田中{たなか}', japanese: '次{つぎ}の交差点{こうさてん}で曲{ま}がってください。橋{はし}を渡{わた}ってから、角{かど}を右{みぎ}に曲{ま}がります。', chinese: '在下一個十字路口轉彎。過橋之後，在轉角右轉。' },
      { speaker: '佐藤{さとう}', japanese: '橋{はし}の向{む}こうですね。駅{えき}から電車{でんしゃ}に乗{の}る前{まえ}に、切符{きっぷ}を買{か}いますか。', chinese: '在橋的對面呢。搭電車之前，要買票嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、切符{きっぷ}を買{か}ってから乗{の}ってください。バスやタクシーもありますよ。', chinese: '是的，請買好票再搭乘。也有公車和計程車喔。' },
      { speaker: '佐藤{さとう}', japanese: 'この道{みち}は自動車{じどうしゃ}が多{おお}いですね。自転車{じてんしゃ}で來{き}ましたが、速{はや}い車{くるま}ばかりで怖{こわ}かったです。', chinese: '這條路汽車好多呢。我騎腳踏車來的，但都是開很快的車，好可怕。' },
      { speaker: '田中{たなか}', japanese: '南{みなみ}の道{みち}は静{しず}かですよ。出{で}かける前{まえ}にそちらを調{しら}べてください。', chinese: '南邊的路很安靜喔。出門之前請查一下那邊。' },
      { speaker: '佐藤{さとう}', japanese: 'ありがとうございます。空港{くうこう}は遠{とお}いですか。来週{らいしゅう}飛行機{ひこうき}に乗{の}ります。', chinese: '謝謝。機場遠嗎？下週要搭飛機。' },
      { speaker: '田中{たなか}', japanese: '空港{くうこう}は遠{とお}いですね。電車{でんしゃ}に乗{の}ってから、バスに乗{の}り換{か}えてください。', chinese: '機場很遠呢。請搭電車之後再轉乘公車。' },
      { speaker: '佐藤{さとう}', japanese: '分{わ}かりました。出発{しゅっぱつ}の前{まえ}にこの辺{へん}を散歩{さんぽ}したいです。', chinese: '我知道了。出發之前想在這附近散步。' },
    ],

    quizQuestions: [
      {
        id: 'cq_n5_u4_l4_001',
        category: 'vocabulary',
        level: 'N5',
        tags: ['transport'],
        stem: '空{そら}を飛{と}ぶ乗{の}り物{もの}はどれですか。',
        stemZh: '在天空飛的交通工具是哪個？',
        options: [
          { text: '電車', reason: '電車在軌道上跑。' },
          { text: 'バス', reason: '公車在路上跑。' },
          { text: 'タクシー', reason: '計程車在路上跑。' },
          { text: '飛行機', reason: '正確。「飛行機」是飛機，在天空飛。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '交通工具詞彙',
          analysis: '「飛行機（ひこうき）」= 飛機。「飛行」= 飛行，「機」= 機器。',
        },
      },
      {
        id: 'cq_n5_u4_l4_002',
        category: 'vocabulary',
        level: 'N5',
        tags: ['adjective'],
        stem: '「近{ちか}い」の反対{はんたい}はどれですか。',
        stemZh: '「近」的反義詞是哪個？',
        options: [
          { text: '速い', reason: '「速い」是快，不是近的反義。' },
          { text: '遠い', reason: '正確。「近い」（近）⇔「遠い」（遠）。' },
          { text: '長い', reason: '「長い」是長，不是近的反義。' },
          { text: '広い', reason: '「広い」是寬，不是近的反義。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '距離形容詞反義詞',
          analysis: '近い（近）⇔ 遠い（遠）是距離相關反義詞。',
        },
      },
      {
        id: 'cq_n5_u4_l4_003',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kara'],
        stem: 'ご飯{はん}を食{た}べ＿＿、歯{は}を磨{みが}きます。',
        stemZh: '吃完飯之後刷牙。',
        options: [
          { text: 'てから', reason: '正確。「食べてから」= 吃完之後。' },
          { text: 'る前に', reason: '「食べる前に」= 吃飯之前，順序相反。' },
          { text: 'たら', reason: '「食べたら」也可以表示之後，但「てから」更強調順序。' },
          { text: 'ても', reason: '「食べても」= 即使吃了，語意不同。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「てから」表示先後順序',
          analysis: '「てから」接在て形後面，表示「做完A之後再做B」。強調順序。',
          commonMistakes: ['× 食べるから → ○ 食べてから（「から」前面需要て形）'],
        },
      },
      {
        id: 'cq_n5_u4_l4_004',
        category: 'grammar',
        level: 'N5',
        tags: ['mae-ni'],
        stem: '寝{ね}る＿＿に、お風呂{ふろ}に入{はい}ります。',
        stemZh: '睡覺＿＿洗澡。',
        options: [
          { text: '前', reason: '正確。「寝る前に」= 睡覺之前。動詞辭書形 + 前に。' },
          { text: '後', reason: '「寝た後に」= 睡覺之後，語意不同。' },
          { text: '時', reason: '「寝る時」= 睡覺的時候，語意不同。' },
          { text: 'まで', reason: '「寝るまで」= 直到睡覺，語意不同。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「前に」的接續',
          analysis: '動詞辭書形 + 前に = ～之前。「寝る前に」= 睡覺之前。',
          comparisons: ['動詞辭書形 + 前に：寝る前に', '名詞 + の前に：授業の前に'],
        },
      },
      {
        id: 'cq_n5_u4_l4_005',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kara', 'mae-ni'],
        stem: '会社{かいしゃ}に着{つ}く前{まえ}に、コンビニでコーヒーを買{か}います。\nこの文{ぶん}の意味{いみ}はどれですか。',
        stemZh: '到公司之前，在便利商店買咖啡。\n這句話的意思是？',
        options: [
          { text: '先に会社に着いてからコーヒーを買う', reason: '這是「着いてから」= 到了之後才買，順序相反。' },
          { text: '先にコーヒーを買ってから会社に着く', reason: '正確。「着く前に」= 到達之前，先買咖啡。' },
          { text: '会社でコーヒーを買う', reason: '不是在公司買，是在便利商店買。' },
          { text: '会社に着くと同時にコーヒーを買う', reason: '不是同時，是之前。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「前に」的語意理解',
          analysis: '「Aの前にB」= 在A之前做B。所以先做B，再發生A。',
        },
      },
      {
        id: 'cq_n5_u4_l4_006',
        category: 'grammar',
        level: 'N5',
        tags: ['direction', 'comprehensive'],
        stem: '交差点{こうさてん}を右{みぎ}に＿＿と、銀行{ぎんこう}があります。',
        stemZh: '在十字路口右轉的話，就有銀行。',
        options: [
          { text: '曲がる', reason: '正確。「曲がると」= 轉彎的話。辭書形 + と = 條件。' },
          { text: '曲がって', reason: '「曲がって」是て形，不接「と」。' },
          { text: '曲がった', reason: '「曲がった」是過去式，不接「と」表條件。' },
          { text: '曲がり', reason: '「曲がり」是連用形，不接「と」表條件。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「と」表恆常條件',
          analysis: '動詞辭書形 + と = 一旦做了～就會～。「曲がると」= 轉彎的話。用於指路。',
        },
      },
      {
        id: 'cq_n5_u4_l4_007',
        category: 'grammar',
        level: 'N5',
        tags: ['comprehensive'],
        stem: '家{いえ}を出{で}てから、バス停{てい}まで歩{ある}きます。＿＿バスに乗{の}って、駅{えき}の前{まえ}に降{お}ります。',
        stemZh: '出門之後，走到公車站。＿＿搭公車，在車站前面下車。',
        options: [
          { text: 'だから', reason: '「だから」是因果，這裡是時間順序。' },
          { text: 'それから', reason: '正確。「それから」= 然後，連接順序動作。' },
          { text: 'でも', reason: '「でも」是轉折（但是），不是順序。' },
          { text: 'まえに', reason: '「前に」是之前，但這裡描述的是之後的動作。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「てから」「それから」的順序描述',
          analysis: '描述日常順序：「てから」連接前後動作，「それから」連接句子間的順序。',
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L5: 週末{しゅうまつ}にしたこと (週末做了什麼)
  // ============================================================
  {
    id: 'n5_u4_l5',
    unitId: 'n5_u4',
    order: 5,
    titleJp: '週末{しゅうまつ}にしたこと',
    titleZh: '週末做了什麼',
    objectives: [
      '學會用「たり〜たりする」列舉多個動作',
      '學會用「たことがある」表達過去經驗',
      '掌握家事與日常活動相關詞彙',
    ],

    vocabulary: [
      { word: '作る', reading: 'つくる', meaning: '做', meaning_zh: '做' },
      { word: '洗濯', reading: 'せんたく', meaning: '洗衣', meaning_zh: '洗衣' },
      { word: '掃除', reading: 'そうじ', meaning: '打掃', meaning_zh: '打掃' },
      { word: '日記', reading: 'にっき', meaning: '日記', meaning_zh: '日記' },
      { word: '手紙', reading: 'てがみ', meaning: '信', meaning_zh: '信' },
      { word: '作文', reading: 'さくぶん', meaning: '作文', meaning_zh: '作文' },
      { word: '新聞', reading: 'しんぶん', meaning: '報紙', meaning_zh: '報紙' },
      { word: '雜誌', reading: 'ざっし', meaning: '雜誌', meaning_zh: '雜誌' },
      { word: 'レストラン', reading: 'レストラン', meaning: '餐廳', meaning_zh: '餐廳' },
      { word: '誕生日', reading: 'たんじょうび', meaning: '生日', meaning_zh: '生日' },
      { word: '結婚', reading: 'けっこん', meaning: '結婚', meaning_zh: '結婚' },
      { word: '歌う', reading: 'うたう', meaning: '唱歌', meaning_zh: '唱歌' },
      { word: '疲れる', reading: 'つかれる', meaning: '累', meaning_zh: '累' },
      { word: '着く', reading: 'つく', meaning: '到達', meaning_zh: '到達' },
      { word: '無くす', reading: 'なくす', meaning: '弄丟', meaning_zh: '弄丟' },
      { word: '困る', reading: 'こまる', meaning: '困擾', meaning_zh: '困擾' },
      { word: '売る', reading: 'うる', meaning: '賣', meaning_zh: '賣' },
      { word: '閉まる', reading: 'しまる', meaning: '關閉', meaning_zh: '關閉' },
    ],

    grammarIds: ['n5_tari_tari', 'n5_ta_koto_ga_aru'],
    grammarSummaries: [
      {
        grammarId: 'n5_tari_tari',
        pattern: '動詞た形 + り〜たり + する',
        meaning: '做～或做～等事',
        quickExample: '週末{しゅうまつ}は本{ほん}を読{よ}んだり映画{えいが}を見{み}たりします。',
        quickExampleZh: '週末看看書、看看電影之類的。',
      },
      {
        grammarId: 'n5_ta_koto_ga_aru',
        pattern: '動詞た形 + ことがある',
        meaning: '曾經做過～',
        quickExample: '日本{にほん}に行{い}ったことがあります。',
        quickExampleZh: '曾經去過日本。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: '週末{しゅうまつ}は何{なに}をしましたか。', chinese: '週末做了什麼？' },
      { speaker: '山田{やまだ}', japanese: '部屋{へや}を掃除{そうじ}したり、洗濯{せんたく}したりしました。それから日記{にっき}も書{か}きました。', chinese: '打掃房間、洗衣服之類的。然後也寫了日記。' },
      { speaker: '佐藤{さとう}', japanese: '大変{たいへん}でしたね。疲{つか}れませんでしたか。', chinese: '辛苦了呢。不累嗎？' },
      { speaker: '山田{やまだ}', japanese: '少{すこ}し疲{つか}れました。でも夜{よる}は友達{ともだち}の誕生日{たんじょうび}パーティーに行{い}きました。歌{うた}ったりケーキを作{つく}ったりしました。', chinese: '有點累。但晚上去了朋友的生日派對。唱唱歌、做蛋糕之類的。' },
      { speaker: '佐藤{さとう}', japanese: 'いいですね！日本料理{にほんりょうり}のレストランに行{い}ったことがありますか。', chinese: '真好！你有去過日本料理的餐廳嗎？' },
      { speaker: '山田{やまだ}', japanese: 'はい、行{い}ったことがあります。お寿司{すし}を食{た}べたり、お茶{ちゃ}を飲{の}んだりしました。', chinese: '有，去過。吃壽司、喝茶之類的。' },
      { speaker: '佐藤{さとう}', japanese: 'あ、そうだ。手紙{てがみ}はもう書{か}きましたか。結婚{けっこん}のお祝{いわ}いの。', chinese: '啊，對了。信已經寫好了嗎？結婚的祝賀信。' },
      { speaker: '山田{やまだ}', japanese: 'いいえ、まだです。困{こま}っています。作文{さくぶん}は得意{とくい}じゃないので。', chinese: '不，還沒。很傷腦筋。因為不擅長寫作文。' },
      { speaker: '佐藤{さとう}', japanese: '新聞{しんぶん}を読{よ}みましたか。駅前{えきまえ}の本屋{ほんや}がもう閉{し}まったそうです。', chinese: '看報紙了嗎？聽說車站前的書店已經關了。' },
      { speaker: '山田{やまだ}', japanese: 'えっ、雜誌{ざっし}をよくそこで買{か}っていたのに。着{つ}いたら売{う}り切{き}れていたこともありましたが、好{す}きな店{みせ}でした。', chinese: '咦，明明常在那裡買雜誌的。雖然到了之後有時賣完了，但是喜歡的店。' },
      { speaker: '佐藤{さとう}', japanese: '鍵{かぎ}を無{な}くしたことがありますか。私{わたし}は先週{せんしゅう}無{な}くして困{こま}りました。', chinese: '你有弄丟過鑰匙嗎？我上週弄丟了，很困擾。' },
    ],

    quizQuestions: [
      {
        id: 'cq_n5_u4_l5_001',
        category: 'vocabulary',
        level: 'N5',
        tags: ['noun'],
        stem: '「てがみ」を漢字{かんじ}で書{か}くとどれですか。',
        stemZh: '「てがみ」用漢字寫是哪個？',
        options: [
          { text: '日記', reason: '「日記」讀作「にっき」。' },
          { text: '作文', reason: '「作文」讀作「さくぶん」。' },
          { text: '手紙', reason: '正確。「手紙」讀作「てがみ」，意為信。' },
          { text: '新聞', reason: '「新聞」讀作「しんぶん」。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '漢字讀音',
          analysis: '「手紙」讀作「てがみ」，意為信件。注意：在中文裡「手紙」意思不同（衛生紙）。',
          commonMistakes: ['日中差異：日文「手紙」= 信 ≠ 中文「手紙」= 衛生紙'],
        },
      },
      {
        id: 'cq_n5_u4_l5_002',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '部屋{へや}が汚{きたな}いので、＿＿をします。',
        stemZh: '因為房間髒了，所以要＿＿。',
        options: [
          { text: '洗濯', reason: '「洗濯」是洗衣服，不是清掃房間。' },
          { text: '掃除', reason: '正確。「掃除をする」= 打掃。房間髒了要打掃。' },
          { text: '作文', reason: '「作文」是寫文章，不相關。' },
          { text: '結婚', reason: '「結婚」是結婚，不相關。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '家事相關詞彙',
          analysis: '「掃除」= 打掃，「洗濯」= 洗衣服。兩者都是常見家事。',
          comparisons: ['掃除（打掃房間）', '洗濯（洗衣服）'],
        },
      },
      {
        id: 'cq_n5_u4_l5_003',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '大切{たいせつ}なものを＿＿てしまいました。とても困{こま}っています。',
        stemZh: '把重要的東西＿＿了。非常困擾。',
        options: [
          { text: '売っ', reason: '「売る」是賣，不是弄丟。' },
          { text: '無くし', reason: '正確。「無くす」= 弄丟。弄丟重要東西會困擾。' },
          { text: '作っ', reason: '「作る」是做，不會因做了東西而困擾。' },
          { text: '歌っ', reason: '「歌う」是唱歌，語意不通。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '動詞語義',
          analysis: '「無くす」= 弄丟、遺失。「困る」= 困擾。弄丟重要東西會感到困擾。',
        },
      },
      {
        id: 'cq_n5_u4_l5_004',
        category: 'grammar',
        level: 'N5',
        tags: ['tari-tari'],
        stem: '週末{しゅうまつ}は音楽{おんがく}を聞{き}い＿＿、本{ほん}を読{よ}ん＿＿します。',
        stemZh: '週末聽聽音樂、看看書之類的。',
        options: [
          { text: 'たり / だり', reason: '正確。「聞く」→「聞いたり」、「読む」→「読んだり」。' },
          { text: 'て / で', reason: '「て/で」是連接，不是「たり〜たり」的形式。' },
          { text: 'たら / だら', reason: '「たら」是條件形，不是列舉。' },
          { text: 'ても / でも', reason: '「ても」是讓步，不是列舉。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「たり〜たり」的接續',
          analysis: '「たり」接在た形後面。「聞く」→ 聞いた → 聞いたり。「読む」→ 読んだ → 読んだり。',
          commonMistakes: ['注意清濁：「聞いたり」（清音）vs「読んだり」（濁音）'],
        },
      },
      {
        id: 'cq_n5_u4_l5_005',
        category: 'grammar',
        level: 'N5',
        tags: ['tari-tari'],
        stem: '日曜日{にちようび}は掃除{そうじ}し＿＿、洗濯{せんたく}し＿＿しました。',
        stemZh: '星期天打打掃、洗洗衣服之類的。',
        options: [
          { text: 'たり / たり', reason: '正確。する → した → したり。兩者都是する動詞。' },
          { text: 'て / て', reason: '「して」是連接形，不是「たり」。' },
          { text: 'だり / だり', reason: '「する」的た形是「した」，不是「しだ」。' },
          { text: 'ながら / ながら', reason: '「ながら」是同時進行，不是列舉。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「する」動詞的「たり」形',
          analysis: '「する」→ した → したり。掃除する → 掃除したり。洗濯する → 洗濯したり。',
        },
      },
      {
        id: 'cq_n5_u4_l5_006',
        category: 'grammar',
        level: 'N5',
        tags: ['ta-koto-ga-aru'],
        stem: '日本{にほん}に行{い}った＿＿がありますか。',
        stemZh: '你曾經去過日本嗎？',
        options: [
          { text: 'こと', reason: '正確。「行ったことがある」= 曾經去過。' },
          { text: 'もの', reason: '「もの」指具體的東西，不用於經驗表達。' },
          { text: 'ところ', reason: '「ところ」指場所或時間點，不用於經驗。' },
          { text: 'ほう', reason: '「ほう」用於比較，不用於經驗表達。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「たことがある」經驗表達',
          analysis: '「動詞た形 + ことがある」= 曾經做過～。「行ったことがある」= 曾經去過。',
          commonMistakes: ['× 行くことがある → ○ 行ったことがある（需要た形）'],
        },
      },
      {
        id: 'cq_n5_u4_l5_007',
        category: 'grammar',
        level: 'N5',
        tags: ['comprehensive'],
        stem: '去年{きょねん}の誕生日{たんじょうび}は友達{ともだち}とレストランで食{た}べ＿＿、カラオケで歌{うた}＿＿しました。とても疲{つか}れましたが、楽{たの}しかったです。',
        stemZh: '去年的生日和朋友在餐廳吃飯、在卡拉OK唱歌之類的。雖然很累，但很開心。',
        options: [
          { text: 'たり / ったり', reason: '正確。食べる→食べたり、歌う→歌ったり。' },
          { text: 'て / って', reason: '「て」是連接形，不是列舉。' },
          { text: 'たら / ったら', reason: '「たら」是條件形，不是列舉。' },
          { text: 'ても / っても', reason: '「ても」是讓步形，不是列舉。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「たり〜たりする」的綜合運用',
          analysis: '一段動詞：食べる → 食べた → 食べたり。五段動詞：歌う → 歌った → 歌ったり。',
          comparisons: ['一段：食べる → 食べたり', '五段（う）：歌う → 歌ったり（促音便）'],
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L6: もう終{お}わりましたか (已經做完了嗎)
  // ============================================================
  {
    id: 'n5_u4_l6',
    unitId: 'n5_u4',
    order: 6,
    titleJp: 'もう終{お}わりましたか',
    titleZh: '已經做完了嗎',
    objectives: [
      '學會用「もう」表達已經完成',
      '學會用「まだ」表達持續狀態',
      '掌握時間詞彙與生活事件相關詞彙',
    ],

    vocabulary: [
      { word: '生まれる', reading: 'うまれる', meaning: '出生', meaning_zh: '出生' },
      { word: '渡る', reading: 'わたる', meaning: '渡過', meaning_zh: '渡過' },
      { word: '来月', reading: 'らいげつ', meaning: '下個月', meaning_zh: '下個月' },
      { word: '来年', reading: 'らいねん', meaning: '明年', meaning_zh: '明年' },
      { word: '去年', reading: 'きょねん', meaning: '去年', meaning_zh: '去年' },
      { word: '先月', reading: 'せんげつ', meaning: '上個月', meaning_zh: '上個月' },
      { word: '毎月', reading: 'まいつき', meaning: '每月', meaning_zh: '每月' },
      { word: '毎年', reading: 'まいとし', meaning: '每年', meaning_zh: '每年' },
      { word: '町', reading: 'まち', meaning: '城鎮', meaning_zh: '城鎮' },
      { word: '東', reading: 'ひがし', meaning: '東', meaning_zh: '東' },
      { word: '西', reading: 'にし', meaning: '西', meaning_zh: '西' },
      { word: '南', reading: 'みなみ', meaning: '南', meaning_zh: '南' },
      { word: '北', reading: 'きた', meaning: '北', meaning_zh: '北' },
      { word: '辺', reading: 'へん', meaning: '這一帶', meaning_zh: '這一帶' },
      { word: '次', reading: 'つぎ', meaning: '下一個', meaning_zh: '下一個' },
      { word: '階段', reading: 'かいだん', meaning: '樓梯', meaning_zh: '樓梯' },
      { word: '廊下', reading: 'ろうか', meaning: '走廊', meaning_zh: '走廊' },
    ],

    grammarIds: ['n5_mada', 'n5_mou'],
    grammarSummaries: [
      {
        grammarId: 'n5_mada',
        pattern: 'まだ',
        meaning: '還（持續狀態）',
        quickExample: 'まだ雨{あめ}が降{ふ}っています。',
        quickExampleZh: '還在下雨。',
      },
      {
        grammarId: 'n5_mou',
        pattern: 'もう',
        meaning: '已經',
        quickExample: 'もう宿題{しゅくだい}を終{お}わりました。',
        quickExampleZh: '已經做完作業了。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: '田中{たなか}さん、もう引{ひ}っ越{こ}しの準備{じゅんび}は終{お}わりましたか。', chinese: '田中，搬家的準備已經做完了嗎？' },
      { speaker: '田中{たなか}', japanese: 'いいえ、まだ終{お}わっていません。来月{らいげつ}までに終{お}わらせたいです。', chinese: '不，還沒做完。想在下個月之前完成。' },
      { speaker: '佐藤{さとう}', japanese: '新{あたら}しい町{まち}はどの辺{へん}ですか。', chinese: '新的城鎮在哪一帶？' },
      { speaker: '田中{たなか}', japanese: '駅{えき}の北{きた}です。去年{きょねん}一度{いちど}行{い}きました。東{ひがし}に大{おお}きい公園{こうえん}があって、西{にし}にスーパーがあります。', chinese: '在車站的北邊。去年去過一次。東邊有大公園，西邊有超市。' },
      { speaker: '佐藤{さとう}', japanese: '南{みなみ}には何{なに}がありますか。', chinese: '南邊有什麼？' },
      { speaker: '田中{たなか}', japanese: '南{みなみ}には学校{がっこう}があります。廊下{ろうか}が広{ひろ}くて、階段{かいだん}もきれいだそうです。先月{せんげつ}見学{けんがく}に行{い}きました。', chinese: '南邊有學校。聽說走廊很寬、樓梯也很漂亮。上個月去參觀了。' },
      { speaker: '佐藤{さとう}', japanese: 'いいですね。もう次{つぎ}の家{いえ}は決{き}まりましたか。', chinese: '真好。下一個住處已經決定了嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、もう決{き}まりました。毎月{まいつき}の家賃{やちん}も安{やす}いです。', chinese: '是的，已經決定了。每個月的房租也便宜。' },
      { speaker: '佐藤{さとう}', japanese: '子{こ}どもはまだ小{ちい}さいですか。この辺{へん}で生{う}まれましたか。', chinese: '孩子還小嗎？在這一帶出生的嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、去年{きょねん}この町{まち}で生{う}まれました。来年{らいねん}からは新{あたら}しい町{まち}で育{そだ}てます。毎年{まいとし}この辺{へん}に遊{あそ}びに來{き}たいです。', chinese: '是的，去年在這個城鎮出生的。明年起在新的城鎮養育。每年都想來這一帶玩。' },
      { speaker: '佐藤{さとう}', japanese: '橋{はし}を渡{わた}って向{む}こうの公園{こうえん}に行{い}きましょう。もう桜{さくら}が咲{さ}いていますよ。', chinese: '渡過橋到對面的公園去吧。櫻花已經開了喔。' },
      { speaker: '田中{たなか}', japanese: 'いいですね。まだ時間{じかん}がありますから、行{い}きましょう。', chinese: '好啊。還有時間，走吧。' },
    ],

    quizQuestions: [
      {
        id: 'cq_n5_u4_l6_001',
        category: 'vocabulary',
        level: 'N5',
        tags: ['time'],
        stem: '「去年{きょねん}」の反対{はんたい}はどれですか。',
        stemZh: '「去年」的反義是哪個？',
        options: [
          { text: '先月', reason: '「先月」是上個月，不是去年的反義。' },
          { text: '来年', reason: '正確。「去年」（去年）⇔「来年」（明年）。' },
          { text: '毎年', reason: '「毎年」是每年，不是反義。' },
          { text: '来月', reason: '「来月」是下個月，不是去年的反義。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '時間詞配對',
          analysis: '去年（きょねん）⇔ 来年（らいねん）、先月（せんげつ）⇔ 来月（らいげつ）。',
          comparisons: ['去年 ⇔ 来年', '先月 ⇔ 来月'],
        },
      },
      {
        id: 'cq_n5_u4_l6_002',
        category: 'vocabulary',
        level: 'N5',
        tags: ['direction'],
        stem: '「きた」を漢字{かんじ}で書{か}くとどれですか。',
        stemZh: '「きた」用漢字寫是哪個？',
        options: [
          { text: '東', reason: '「東」讀作「ひがし」。' },
          { text: '西', reason: '「西」讀作「にし」。' },
          { text: '南', reason: '「南」讀作「みなみ」。' },
          { text: '北', reason: '正確。「北」讀作「きた」，是北方。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '方位漢字',
          analysis: '東（ひがし）、西（にし）、南（みなみ）、北（きた）是四個基本方位。',
        },
      },
      {
        id: 'cq_n5_u4_l6_003',
        category: 'vocabulary',
        level: 'N5',
        tags: ['place'],
        stem: '建物{たてもの}の中{なか}で上{うえ}の階{かい}に行{い}くとき、＿＿を使{つか}います。',
        stemZh: '在建築物裡去上面的樓層時，使用＿＿。',
        options: [
          { text: '廊下', reason: '「廊下」是走廊，是平面通道。' },
          { text: '橋', reason: '「橋」是橋，在河上。' },
          { text: '階段', reason: '正確。「階段」是樓梯，用於上下樓。' },
          { text: '角', reason: '「角」是轉角，不用於上下樓。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '建築相關詞彙',
          analysis: '「階段（かいだん）」= 樓梯。「廊下（ろうか）」= 走廊。',
        },
      },
      {
        id: 'cq_n5_u4_l6_004',
        category: 'grammar',
        level: 'N5',
        tags: ['mou-mada'],
        stem: 'A：＿＿昼{ひる}ご飯{はん}を食{た}べましたか。\nB：はい、＿＿食{た}べました。',
        stemZh: 'A：＿＿吃午餐了嗎？\nB：是的，＿＿吃了。',
        options: [
          { text: 'もう / もう', reason: '正確。問句用「もう」，肯定回答也用「もう」。' },
          { text: 'まだ / まだ', reason: '「まだ」用於否定，不適合肯定回答。' },
          { text: 'もう / まだ', reason: '肯定回答用「もう」，不是「まだ」。' },
          { text: 'まだ / もう', reason: '問句中用「もう」，不是「まだ」。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「もう」與「まだ」',
          analysis: '「もう〜ましたか」= 已經做了嗎？肯定回答：「もう〜ました」。否定回答：「まだ〜ていません」。',
          comparisons: ['肯定：もう食べました', '否定：まだ食べていません'],
        },
      },
      {
        id: 'cq_n5_u4_l6_005',
        category: 'grammar',
        level: 'N5',
        tags: ['ta-koto-ga-aru', 'negative'],
        stem: '富士山{ふじさん}に登{のぼ}ったことが＿＿。',
        stemZh: '沒有爬過富士山。',
        options: [
          { text: 'あります', reason: '「あります」是肯定，表示有經驗。' },
          { text: 'ありません', reason: '正確。「ことがありません」= 不曾做過。' },
          { text: 'いません', reason: '「いません」用於人或動物，不是經驗表達。' },
          { text: 'ないです', reason: '語法上可以，但「ありません」是更標準的否定。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「たことがある」的否定',
          analysis: '「たことがある」的否定是「たことがない / ありません」。表示「不曾做過」。',
        },
      },
      {
        id: 'cq_n5_u4_l6_006',
        category: 'grammar',
        level: 'N5',
        tags: ['mou-mada', 'comprehensive'],
        stem: 'A：宿題{しゅくだい}は＿＿終{お}わりましたか。\nB：いいえ、＿＿終{お}わっていません。',
        stemZh: 'A：作業＿＿做完了嗎？\nB：不，＿＿做完。',
        options: [
          { text: 'もう / まだ', reason: '正確。問句用「もう」（已經），否定回答用「まだ」（還沒）。' },
          { text: 'まだ / もう', reason: '問句中搭配「ましたか」用「もう」，不是「まだ」。' },
          { text: 'もう / もう', reason: '否定回答不用「もう」，用「まだ」。' },
          { text: 'まだ / まだ', reason: '問句中通常用「もう」搭配過去式問句。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「もう」問句與「まだ」否定回答的搭配',
          analysis: '「もう〜ましたか」的否定回答固定用「まだ〜ていません」。是重要的固定搭配。',
          comparisons: ['もう〜ましたか → はい、もう〜ました', 'もう〜ましたか → いいえ、まだ〜ていません'],
        },
      },
    ] as UnifiedQuestion[],
  },
]
