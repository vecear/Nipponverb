import type { LessonDefinition } from '../../../../types/course'
import type { UnifiedQuestion } from '../../../questions/types'

// ─── Unit 4: 動作與順序 ───

export const u4Lessons: LessonDefinition[] = [
  // ============================================================
  // L1: お願{ねが}いがあります (我有個請求)
  // ============================================================
  {
    id: 'n5_u4_l1',
    unitId: 'n5_u4',
    order: 1,
    titleJp: 'お願{ねが}いがあります',
    titleZh: '我有個請求',
    objectives: [
      '學會用「てください」表達請求',
      '學會用「ないでください」表達禁止',
      '掌握借出與借入等配對動詞',
    ],

    vocabulary: [
      { word: '貸す', reading: 'かす', meaning: '借出', meaning_zh: '借出' },
      { word: '借りる', reading: 'かりる', meaning: '借入', meaning_zh: '借入' },
      { word: '上げる', reading: 'あげる', meaning: '給', meaning_zh: '給' },
      { word: '見せる', reading: 'みせる', meaning: '展示', meaning_zh: '展示' },
      { word: '持つ', reading: 'もつ', meaning: '拿', meaning_zh: '拿' },
      { word: '出す', reading: 'だす', meaning: '拿出', meaning_zh: '拿出' },
      { word: '入れる', reading: 'いれる', meaning: '放入', meaning_zh: '放入' },
      { word: '開ける', reading: 'あける', meaning: '打開', meaning_zh: '打開' },
      { word: '閉める', reading: 'しめる', meaning: '關上', meaning_zh: '關上' },
      { word: '消す', reading: 'けす', meaning: '擦掉', meaning_zh: '擦掉' },
      { word: 'つける', reading: 'つける', meaning: '開啟', meaning_zh: '開啟' },
      { word: '押す', reading: 'おす', meaning: '推', meaning_zh: '推' },
      { word: '引く', reading: 'ひく', meaning: '拉', meaning_zh: '拉' },
      { word: '渡す', reading: 'わたす', meaning: '交給', meaning_zh: '交給' },
      { word: '取る', reading: 'とる', meaning: '取', meaning_zh: '取' },
      { word: '撮る', reading: 'とる', meaning: '照相', meaning_zh: '照相' },
      { word: '頼む', reading: 'たのむ', meaning: '拜託', meaning_zh: '拜託' },
    ],

    grammarIds: ['n5_te_kudasai', 'n5_naide_kudasai'],
    grammarSummaries: [
      {
        grammarId: 'n5_te_kudasai',
        pattern: '動詞て形 + ください',
        meaning: '請做～',
        quickExample: 'ここに座{すわ}ってください。',
        quickExampleZh: '請坐在這裡。',
      },
      {
        grammarId: 'n5_naide_kudasai',
        pattern: '動詞ない形 + でください',
        meaning: '請不要做～',
        quickExample: 'ここで写真{しゃしん}を撮{と}らないでください。',
        quickExampleZh: '請不要在這裡拍照。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: 'すみません、この本{ほん}を借{か}りてもいいですか。', chinese: '不好意思，可以借這本書嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、どうぞ。まずカードを見{み}せてください。', chinese: '可以，請先出示借書證。' },
      { speaker: '佐藤{さとう}', japanese: 'はい、これです。あの、ペンも貸{か}してください。名前{なまえ}を書{か}きたいので。', chinese: '好的，在這裡。那個，也請借我筆。因為我想寫名字。' },
      { speaker: '田中{たなか}', japanese: 'はい、どうぞ。書{か}いてから渡{わた}してください。', chinese: '好的，請。寫完之後請交給我。' },
      { speaker: '佐藤{さとう}', japanese: 'はい。あと、写真{しゃしん}を撮{と}ってもいいですか。', chinese: '好的。還有，可以拍照嗎？' },
      { speaker: '田中{たなか}', japanese: 'ここでは撮{と}らないでください。それから、本{ほん}の上{うえ}にものを置{お}かないでください。', chinese: '請不要在這裡拍照。還有，請不要把東西放在書上面。' },
      { speaker: '佐藤{さとう}', japanese: 'すみません。あの棚{たな}から辞書{じしょ}を取{と}ってくださいませんか。高{たか}くて持{も}てません。', chinese: '不好意思。可以幫我從那個書架拿辭典嗎？太高了我拿不到。' },
      { speaker: '田中{たなか}', japanese: 'いいですよ。はい、どうぞ。あと、ドアは引{ひ}いて開{あ}けてください。押{お}さないでください。', chinese: '好的。給您。還有，門請拉開。請不要推。' },
      { speaker: '佐藤{さとう}', japanese: 'はい。電気{でんき}をつけてもいいですか。少{すこ}し暗{くら}いです。', chinese: '好的。可以開燈嗎？有點暗。' },
      { speaker: '田中{たなか}', japanese: 'どうぞ。帰{かえ}る時{とき}に消{け}してください。それから、何{なに}か頼{たの}みたいことがあれば言{い}ってくださいね。', chinese: '請。回去的時候請關掉。還有，如果有什麼想拜託的事請說喔。' },
      { speaker: '佐藤{さとう}', japanese: 'ありがとうございます。資料{しりょう}を出{だ}して入{い}れる棚{たな}が分{わ}かりません。教{おし}えてください。', chinese: '謝謝。我不知道拿出和放入資料的書架在哪。請告訴我。' },
      { speaker: '田中{たなか}', japanese: 'あちらです。資料{しりょう}を使{つか}ったら元{もと}の場所{ばしょ}に入{い}れてください。上{あ}げることはできませんから。', chinese: '在那邊。資料用完後請放回原處。因為沒辦法送給您。' },
    ],

    quizQuestions: [
      {
        id: 'n5_u4_l1_q1',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '本{ほん}を友達{ともだち}に＿＿。友達{ともだち}はその本{ほん}を＿＿。',
        stemZh: '把書＿＿給朋友。朋友＿＿了那本書。',
        options: [
          { text: '貸す / 借りる', reason: '正確。「貸す」（借出）和「借りる」（借入）是對應動詞。' },
          { text: '借りる / 貸す', reason: '順序相反。自己是出借方用「貸す」，接收方用「借りる」。' },
          { text: '上げる / 返す', reason: '「上げる」是給，「返す」是歸還，不是借的配對。' },
          { text: '渡す / 取る', reason: '「渡す」是交給，「取る」是拿取，不是借的配對。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「貸す」與「借りる」的配對',
          analysis: '「貸す」=借出（自己是出借方），「借りる」=借入（自己是接收方）。方向相反。',
          commonMistakes: ['混淆方向：我借你（貸す） vs 我跟你借（借りる）'],
          relatedRules: ['📖 本課單字「貸す・借りる」'],
        },
      },
      {
        id: 'n5_u4_l1_q2',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '電気{でんき}を＿＿。部屋{へや}が明{あか}るくなりました。',
        stemZh: '＿＿了電燈。房間變亮了。',
        options: [
          { text: '消す', reason: '「消す」是關掉、擦掉，會變暗不是變亮。' },
          { text: '閉める', reason: '「閉める」是關上（門窗），不是電燈。' },
          { text: 'つける', reason: '正確。「つける」是打開（電器），房間會變亮。' },
          { text: '切る', reason: '「切る」是切斷，不用於開燈。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '開關動詞',
          analysis: '電燈：つける（開）⇔ 消す（關）。門窗：開ける（開）⇔ 閉める（關）。',
          comparisons: ['電気をつける（開燈）⇔ 電気を消す（關燈）', 'ドアを開ける（開門）⇔ ドアを閉める（關門）'],
          relatedRules: ['📖 本課單字「つける・消す」'],
        },
      },
      {
        id: 'n5_u4_l1_q3',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '「おす」の反対{はんたい}の動詞{どうし}はどれですか。',
        stemZh: '「推」的反義動詞是哪個？',
        options: [
          { text: '持つ', reason: '「持つ」是拿、持有，不是推的反義。' },
          { text: '取る', reason: '「取る」是拿取，不是推的反義。' },
          { text: '出す', reason: '「出す」是拿出，不是推的反義。' },
          { text: '引く', reason: '正確。「押す」（推）⇔「引く」（拉）。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '反義動詞',
          analysis: '押す（推）⇔ 引く（拉）是基本反義動詞。門上常見「押」「引」標示。',
          relatedRules: ['📖 本課單字「押す・引く」'],
        },
      },
      {
        id: 'n5_u4_l1_q4',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: 'プレゼントを友達{ともだち}に＿＿。',
        stemZh: '把禮物＿＿朋友。',
        options: [
          { text: '見せました', reason: '「見せる」是展示、讓人看，不是贈送。' },
          { text: '上げました', reason: '正確。「上げる」= 給。把禮物給朋友。' },
          { text: '入れました', reason: '「入れる」是放入，不合語境。' },
          { text: '出しました', reason: '「出す」是拿出，不是給。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '授受動詞「上げる」',
          analysis: '「上げる」= 給（從說話者給別人）。「プレゼントを上げる」= 送禮物。',
          relatedRules: ['📖 本課單字「上げる」'],
        },
      },
      {
        id: 'n5_u4_l1_q5',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '鞄{かばん}からノートを＿＿。',
        stemZh: '從包包裡＿＿筆記本。',
        options: [
          { text: '入れた', reason: '「入れる」是放入，方向相反。' },
          { text: '閉めた', reason: '「閉める」是關上，不適合。' },
          { text: '出した', reason: '正確。「出す」= 拿出。從包包裡拿出筆記本。' },
          { text: '消した', reason: '「消す」是擦掉，不是拿出。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「出す」與「入れる」的配對',
          analysis: '「出す」= 拿出 ⇔「入れる」= 放入。方向相反的配對動詞。',
          comparisons: ['出す（拿出）⇔ 入れる（放入）', '開ける（打開）⇔ 閉める（關上）'],
          relatedRules: ['📖 本課單字「出す・入れる」'],
        },
      },
      {
        id: 'n5_u4_l1_q6',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '先生{せんせい}に作文{さくぶん}を＿＿ました。',
        stemZh: '把作文＿＿給老師了。',
        options: [
          { text: '撮り', reason: '「撮る」是拍照，不是交給。' },
          { text: '渡し', reason: '正確。「渡す」= 交給。把作文交給老師。' },
          { text: '持ち', reason: '「持つ」是拿，不是交給。' },
          { text: '押し', reason: '「押す」是推，不合語境。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「渡す」的用法',
          analysis: '「渡す（わたす）」= 交給、遞給。將物品交到對方手中。',
          relatedRules: ['📖 本課單字「渡す」'],
        },
      },
      {
        id: 'n5_u4_l1_q7',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '写真{しゃしん}を＿＿ってもいいですか。',
        stemZh: '可以＿＿照嗎？',
        options: [
          { text: '取', reason: '「取る」是拿取東西，不是拍照。' },
          { text: '撮', reason: '正確。「撮る」= 拍照。「写真を撮る」= 拍照。' },
          { text: '持', reason: '「持つ」是拿、持有，不是拍照。' },
          { text: '頼', reason: '「頼む」是拜託，不是拍照。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「取る」vs「撮る」',
          analysis: '兩者都讀「とる」，但「取る」= 拿取，「撮る」= 拍攝。「写真を撮る」= 拍照。',
          commonMistakes: ['× 写真を取る → ○ 写真を撮る'],
          relatedRules: ['📖 本課單字「撮る・取る」'],
        },
      },
      {
        id: 'n5_u4_l1_q8',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '忙{いそが}しいので、友達{ともだち}に手伝{てつだ}いを＿＿ました。',
        stemZh: '因為很忙，所以＿＿朋友幫忙。',
        options: [
          { text: '上げ', reason: '「上げる」是給，不是拜託。' },
          { text: '貸し', reason: '「貸す」是借出，不是拜託。' },
          { text: '見せ', reason: '「見せる」是展示，不是拜託。' },
          { text: '頼み', reason: '正確。「頼む」= 拜託。向朋友拜託幫忙。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '「頼む」的用法',
          analysis: '「頼む（たのむ）」= 拜託、請求。常見用法：「〜を頼む」= 拜託某事。',
          relatedRules: ['📖 本課單字「頼む」'],
        },
      },
      {
        id: 'n5_u4_l1_q9',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kudasai'],
        stem: 'ここに名前{なまえ}を＿＿ください。',
        stemZh: '請在這裡寫上名字。',
        options: [
          { text: '書く', reason: '辭書形不接「ください」，需要て形。' },
          { text: '書き', reason: '「書き」是連用形，不接「ください」。' },
          { text: '書いて', reason: '正確。「書く」→「書いて」是て形。「書いてください」= 請寫。' },
          { text: '書いた', reason: '「書いた」是過去形，不接「ください」。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「てください」的接續',
          analysis: '「てください」前面接動詞て形。「書く」（五段）→ 書いて → 書いてください。',
          commonMistakes: ['× 書くください → ○ 書いてください'],
          relatedRules: ['📖 本課文法「てください」'],
        },
      },
      {
        id: 'n5_u4_l1_q10',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kudasai'],
        stem: '窓{まど}を＿＿てください。暑{あつ}いですから。',
        stemZh: '請＿＿窗戶。因為很熱。',
        options: [
          { text: '閉め', reason: '關窗戶不會涼快，意思不合。' },
          { text: '消し', reason: '「消す」不用於窗戶。' },
          { text: '入れ', reason: '「入れる」不用於窗戶。' },
          { text: '開け', reason: '正確。「開ける」→「開けて」。天熱所以開窗。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: 'て形＋ください的情境理解',
          analysis: '因為熱所以請開窗。「開ける」（一段動詞）→「開けて」→「開けてください」。',
          relatedRules: ['📖 本課文法「てください」', '📖 本課單字「開ける」'],
        },
      },
      {
        id: 'n5_u4_l1_q11',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kudasai'],
        stem: 'パスポートを＿＿てください。',
        stemZh: '請出示護照。',
        options: [
          { text: '見せ', reason: '正確。「見せる」（一段）→「見せて」→「見せてください」= 請出示。' },
          { text: '見', reason: '「見る」是看，但這裡需要「讓人看」= 見せる。' },
          { text: '持っ', reason: '「持ってください」是「請拿著」，不是出示。' },
          { text: '渡し', reason: '「渡してください」是「請交給」，不是出示。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「見せる」vs「見る」',
          analysis: '「見る」= 自己看，「見せる」= 讓別人看（出示）。「見せてください」= 請讓我看。',
          comparisons: ['見る：自己看', '見せる：讓別人看（出示）'],
          relatedRules: ['📖 本課文法「てください」', '📖 本課單字「見せる」'],
        },
      },
      {
        id: 'n5_u4_l1_q12',
        category: 'grammar',
        level: 'N5',
        tags: ['naide-kudasai'],
        stem: '図書館{としょかん}で大{おお}きい声{こえ}で話{はな}＿＿ください。',
        stemZh: '在圖書館請不要大聲說話。',
        options: [
          { text: 'して', reason: '「して」是て形，表示「請做」，意思相反。' },
          { text: 'しないで', reason: '「話す」的ない形不是「話しない」，是「話さない」。' },
          { text: 'さないで', reason: '正確。「話す」→ ない形「話さない」→「話さないでください」。' },
          { text: 'すないで', reason: '這不是正確的ない形變化。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「ないでください」的接續',
          analysis: '「話す」（五段）→ ない形「話さない」→「話さないでください」= 請不要說話。',
          commonMistakes: ['× 話しないでください → ○ 話さないでください（五段動詞ない形：さ行）'],
          relatedRules: ['📖 本課文法「ないでください」'],
        },
      },
      {
        id: 'n5_u4_l1_q13',
        category: 'grammar',
        level: 'N5',
        tags: ['naide-kudasai'],
        stem: 'ここに車{くるま}を＿＿ないでください。',
        stemZh: '請不要把車停在這裡。',
        options: [
          { text: '置か', reason: '正確。「置く」→ ない形「置かない」→「置かないでください」。' },
          { text: '置き', reason: '「置き」是連用形，不是ない形的接續。' },
          { text: '置い', reason: '「置い」是て形的一部分，不接「ない」。' },
          { text: '置く', reason: '辭書形不接「ない」。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '五段動詞的ない形',
          analysis: '「置く」（五段）→ 置か（あ段）+ ない → 置かない → 置かないでください。',
          commonMistakes: ['五段動詞ない形：將詞尾改為あ段 + ない'],
          relatedRules: ['📖 本課文法「ないでください」'],
        },
      },
      {
        id: 'n5_u4_l1_q14',
        category: 'grammar',
        level: 'N5',
        tags: ['naide-kudasai'],
        stem: 'この本{ほん}に触{さわ}ら＿＿ください。大切{たいせつ}なものですから。',
        stemZh: '請不要碰這本書。因為是重要的東西。',
        options: [
          { text: 'て', reason: '「触って」是て形，表示「請做」，但這裡要表達禁止。' },
          { text: 'ないで', reason: '正確。「触る」→ ない形「触らない」→「触らないでください」= 請不要碰。' },
          { text: 'なくて', reason: '「なくて」是ない形的て形，不接「ください」表禁止。' },
          { text: 'ずに', reason: '「触らずに」是書面語「不做～」，不接「ください」。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「ないでください」表禁止請求',
          analysis: '「動詞ない形 + でください」= 請不要做～。「触らないでください」= 請不要碰。',
          relatedRules: ['📖 本課文法「ないでください」'],
        },
      },
      {
        id: 'n5_u4_l1_q15',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kudasai', 'naide-kudasai'],
        stem: '帰{かえ}る時{とき}に電気{でんき}を＿＿てください。つけた＿＿にしないでください。',
        stemZh: '回去的時候請關掉電燈。請不要開著不管。',
        options: [
          { text: '消し / まま', reason: '正確。「消してください」= 請關掉。「つけたままにしないで」= 不要開著不管。' },
          { text: 'つけ / まま', reason: '「つけてください」是請打開，與「つけたまま」矛盾。' },
          { text: '消し / とき', reason: '「つけたときにしない」語意不通。' },
          { text: '閉め / まま', reason: '「閉める」用於門窗，不用於電燈。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「てください」與「ないでください」的綜合運用',
          analysis: '「消してください」= 請關。「つけたままにしないでください」= 請不要維持開著的狀態。',
          relatedRules: ['📖 本課文法「てください」', '📖 本課文法「ないでください」', '📖 本課單字「消す・つける」'],
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L2: 今{いま}何{なに}をしていますか (現在在做什麼)
  // ============================================================
  {
    id: 'n5_u4_l2',
    unitId: 'n5_u4',
    order: 2,
    titleJp: '今{いま}何{なに}をしていますか',
    titleZh: '現在在做什麼',
    objectives: [
      '學會用「ている」表達正在進行的動作',
      '學會用「てある」表達結果狀態',
      '掌握移動動詞的用法',
    ],

    vocabulary: [
      { word: '走る', reading: 'はしる', meaning: '跑', meaning_zh: '跑' },
      { word: '歩く', reading: 'あるく', meaning: '走路', meaning_zh: '走路' },
      { word: '読む', reading: 'よむ', meaning: '讀', meaning_zh: '讀' },
      { word: '書く', reading: 'かく', meaning: '寫', meaning_zh: '寫' },
      { word: '見る', reading: 'みる', meaning: '看', meaning_zh: '看' },
      { word: '住む', reading: 'すむ', meaning: '居住', meaning_zh: '居住' },
      { word: '働く', reading: 'はたらく', meaning: '工作', meaning_zh: '工作' },
      { word: '勤める', reading: 'つとめる', meaning: '任職', meaning_zh: '任職' },
      { word: '磨く', reading: 'みがく', meaning: '刷', meaning_zh: '刷' },
      { word: '降りる', reading: 'おりる', meaning: '下車', meaning_zh: '下車' },
      { word: '乗る', reading: 'のる', meaning: '搭乘', meaning_zh: '搭乘' },
      { word: '登る', reading: 'のぼる', meaning: '爬', meaning_zh: '爬' },
      { word: '飛ぶ', reading: 'とぶ', meaning: '飛', meaning_zh: '飛' },
      { word: '教室', reading: 'きょうしつ', meaning: '教室', meaning_zh: '教室' },
      { word: '食堂', reading: 'しょくどう', meaning: '食堂', meaning_zh: '食堂' },
      { word: '入る', reading: 'はいる', meaning: '進入', meaning_zh: '進入' },
      { word: '出る', reading: 'でる', meaning: '出來', meaning_zh: '出來' },
    ],

    grammarIds: ['n5_te_iru', 'n5_te_aru'],
    grammarSummaries: [
      {
        grammarId: 'n5_te_iru',
        pattern: '動詞て形 + いる',
        meaning: '正在做～ / 持續狀態',
        quickExample: '本{ほん}を読{よ}んでいます。',
        quickExampleZh: '正在看書。',
      },
      {
        grammarId: 'n5_te_aru',
        pattern: '動詞て形 + ある',
        meaning: '～著（結果狀態）',
        quickExample: '窓{まど}が開{あ}けてあります。',
        quickExampleZh: '窗戶開著（被打開的狀態）。',
      },
    ],

    dialogue: [
      { speaker: '山田{やまだ}', japanese: 'もしもし、今{いま}何{なに}をしていますか。', chinese: '喂，你現在在做什麼？' },
      { speaker: '鈴木{すずき}', japanese: '教室{きょうしつ}で本{ほん}を読{よ}んでいます。レポートも書{か}いています。', chinese: '在教室看書。也在寫報告。' },
      { speaker: '山田{やまだ}', japanese: 'そうですか。お父{とう}さんは会社{かいしゃ}で働{はたら}いていますか。', chinese: '這樣啊。爸爸在公司工作嗎？' },
      { speaker: '鈴木{すずき}', japanese: 'はい、銀行{ぎんこう}に勤{つと}めています。毎朝{まいあさ}電車{でんしゃ}に乗{の}って、駅{えき}で降{お}りて歩{ある}いて行{い}きます。', chinese: '是的，在銀行任職。每天早上搭電車，在車站下車後走路去。' },
      { speaker: '山田{やまだ}', japanese: '妹{いもうと}さんは何{なに}をしていますか。', chinese: '妹妹在做什麼？' },
      { speaker: '鈴木{すずき}', japanese: '公園{こうえん}で走{はし}っていると思{おも}います。歯{は}はまだ磨{みが}いていないかもしれません。', chinese: '我想她在公園跑步。牙可能還沒刷。' },
      { speaker: '山田{やまだ}', japanese: '外{そと}は風{かぜ}が吹{ふ}いていますね。窓{まど}が開{あ}けてありますから、鳥{とり}が鳴{な}いているのが聞{き}こえます。', chinese: '外面風在吹呢。因為窗戶開著，聽得到鳥在叫。' },
      { speaker: '鈴木{すずき}', japanese: 'いいですね。あ、先生{せんせい}が教室{きょうしつ}に入{はい}って来{き}ました。', chinese: '真好。啊，老師進教室來了。' },
      { speaker: '山田{やまだ}', japanese: 'じゃ、授業{じゅぎょう}が終{お}わったら出{で}てきてください。今日{きょう}は山{やま}に登{のぼ}る計画{けいかく}を話{はな}しましょう。', chinese: '那下課後出來吧。今天來聊爬山的計畫吧。' },
      { speaker: '鈴木{すずき}', japanese: 'いいですね。鳥{とり}が飛{と}んでいるのを見{み}ながら歩{ある}きたいです。', chinese: '好啊。想邊看鳥飛邊散步。' },
      { speaker: '山田{やまだ}', japanese: 'じゃ、食堂{しょくどう}の前{まえ}で待{ま}っていますね。', chinese: '那我在食堂前面等你喔。' },
    ],

    quizQuestions: [
      {
        id: 'n5_u4_l2_q1',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '「乗{の}る」の反対{はんたい}の動詞{どうし}はどれですか。',
        stemZh: '「搭乘」的反義動詞是哪個？',
        options: [
          { text: '走る', reason: '「走る」是跑，不是搭乘的反義。' },
          { text: '歩く', reason: '「歩く」是走路，不是反義。' },
          { text: '降りる', reason: '正確。「乗る」（搭乘）⇔「降りる」（下車）。' },
          { text: '止まる', reason: '「止まる」是停止，不是搭乘的反義。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '交通動詞配對',
          analysis: '乗る（搭乘、上車）⇔ 降りる（下車）是交通相關反義動詞。',
          comparisons: ['乗る ⇔ 降りる', '入る ⇔ 出る'],
          relatedRules: ['📖 本課單字「乗る・降りる」'],
        },
      },
      {
        id: 'n5_u4_l2_q2',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '東京{とうきょう}に＿＿います。（居住）',
        stemZh: '住在東京。',
        options: [
          { text: '住んで', reason: '正確。「住む」→「住んで」+「います」= 住在～。' },
          { text: '働いて', reason: '「働く」是工作，不是居住。' },
          { text: '歩いて', reason: '「歩く」是走路，不是居住。' },
          { text: '入って', reason: '「入る」是進入，不是居住。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「住んでいる」表持續狀態',
          analysis: '「住む」+「ている」表示居住的持續狀態。「住んでいます」= 住在～。',
          relatedRules: ['📖 本課文法「ている」', '📖 本課單字「住む」'],
        },
      },
      {
        id: 'n5_u4_l2_q3',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '「入{はい}る」の反対{はんたい}はどれですか。',
        stemZh: '「進入」的反義詞是哪個？',
        options: [
          { text: '登る', reason: '「登る」是爬，不是進入的反義。' },
          { text: '飛ぶ', reason: '「飛ぶ」是飛，不是反義。' },
          { text: '見る', reason: '「見る」是看，不是反義。' },
          { text: '出る', reason: '正確。「入る」（進入）⇔「出る」（出來）。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '移動動詞反義配對',
          analysis: '入る（進入）⇔ 出る（出來、出去）。',
          relatedRules: ['📖 本課單字「入る・出る」'],
        },
      },
      {
        id: 'n5_u4_l2_q4',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '毎朝{まいあさ}歯{は}を＿＿から、朝{あさ}ご飯{はん}を食{た}べます。',
        stemZh: '每天早上＿＿牙之後吃早餐。',
        options: [
          { text: '書いて', reason: '「書く」是寫，不是刷牙。' },
          { text: '読んで', reason: '「読む」是讀，不是刷牙。' },
          { text: '磨いて', reason: '正確。「磨く」= 刷。「歯を磨く」= 刷牙。' },
          { text: '飛んで', reason: '「飛ぶ」是飛，不合語境。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「磨く」的用法',
          analysis: '「磨く（みがく）」= 刷、磨。「歯を磨く」= 刷牙，是日常生活基本動作。',
          relatedRules: ['📖 本課單字「磨く」'],
        },
      },
      {
        id: 'n5_u4_l2_q5',
        category: 'vocabulary',
        level: 'N5',
        tags: ['place'],
        stem: '学校{がっこう}でご飯{はん}を食{た}べる場所{ばしょ}は＿＿です。',
        stemZh: '在學校吃飯的地方是＿＿。',
        options: [
          { text: '教室', reason: '「教室」是上課的地方，不是專門吃飯的。' },
          { text: '食堂', reason: '正確。「食堂」是在學校或公司吃飯的場所。' },
          { text: '図書館', reason: '「図書館」是讀書借書的地方。' },
          { text: '病院', reason: '「病院」是醫院。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '場所詞彙',
          analysis: '「食堂（しょくどう）」= 餐廳、食堂。是學校或公司裡吃飯的地方。',
          relatedRules: ['📖 本課單字「教室・食堂」'],
        },
      },
      {
        id: 'n5_u4_l2_q6',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '鳥{とり}が空{そら}を＿＿でいます。',
        stemZh: '鳥在天空＿＿。',
        options: [
          { text: '走っ', reason: '「走る」是跑，鳥不是用跑的。' },
          { text: '歩い', reason: '「歩く」是走路，鳥在天空不是走路。' },
          { text: '飛ん', reason: '正確。「飛ぶ」→ て形「飛んで」。「飛んでいる」= 正在飛。' },
          { text: '登っ', reason: '「登る」是爬，不適合鳥在空中。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「飛ぶ」的て形',
          analysis: '「飛ぶ」（五段，ぶ結尾）→ 撥音便「飛んで」。「飛んでいる」= 正在飛。',
          commonMistakes: ['ぶ結尾的五段動詞て形用撥音便（んで）'],
          relatedRules: ['📖 本課單字「飛ぶ」', '📖 本課文法「ている」'],
        },
      },
      {
        id: 'n5_u4_l2_q7',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '父{ちち}は大{おお}きい会社{かいしゃ}で＿＿います。',
        stemZh: '爸爸在大公司＿＿。',
        options: [
          { text: '働いて', reason: '正確。「働く」= 工作。「働いている」= 正在工作 / 在某處工作。' },
          { text: '住んで', reason: '「住む」是居住，不是在公司工作。' },
          { text: '走って', reason: '「走る」是跑，語意不通。' },
          { text: '歩いて', reason: '「歩く」是走路，語意不通。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「働いている」表職業狀態',
          analysis: '「働く」+「ている」表示工作的持續狀態。「会社で働いている」= 在公司工作。',
          comparisons: ['住んでいる：住在～', '働いている：在～工作', '勤めている：在～任職'],
          relatedRules: ['📖 本課文法「ている」', '📖 本課單字「働く」'],
        },
      },
      {
        id: 'n5_u4_l2_q8',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '休{やす}みの日{ひ}は山{やま}に＿＿のが好{す}きです。',
        stemZh: '休假日喜歡＿＿山。',
        options: [
          { text: '乗る', reason: '「乗る」是搭乘，不是爬山。' },
          { text: '降りる', reason: '「降りる」是下車或下山，不是上去。' },
          { text: '登る', reason: '正確。「登る」= 爬、登。「山に登る」= 爬山。' },
          { text: '入る', reason: '「入る」是進入，不是爬山。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「登る」的用法',
          analysis: '「登る（のぼる）」= 爬、登。常見用法：「山に登る」= 爬山。',
          relatedRules: ['📖 本課單字「登る」'],
        },
      },
      {
        id: 'n5_u4_l2_q9',
        category: 'grammar',
        level: 'N5',
        tags: ['te-iru'],
        stem: '子供{こども}たちは公園{こうえん}で走{はし}＿＿います。',
        stemZh: '孩子們正在公園跑步。',
        options: [
          { text: 'して', reason: '「走る」的て形不是「走して」。' },
          { text: 'りて', reason: '「走りて」不是正確的て形。' },
          { text: 'って', reason: '正確。「走る」（五段）→ 促音便「走って」→「走っています」。' },
          { text: 'られて', reason: '「走られて」是被動形，不適合此處。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「る」結尾五段動詞的て形',
          analysis: '「走る」是五段動詞（不是一段），て形用促音便：走る → 走って。',
          commonMistakes: ['× 走りています → ○ 走っています（五段動詞促音便）'],
          relatedRules: ['📖 本課文法「ている」'],
        },
      },
      {
        id: 'n5_u4_l2_q10',
        category: 'grammar',
        level: 'N5',
        tags: ['te-iru', 'state'],
        stem: '田中{たなか}さんは銀行{ぎんこう}に勤{つと}め＿＿います。',
        stemZh: '田中在銀行任職。',
        options: [
          { text: 'て', reason: '正確。「勤める」（一段）→「勤めて」+「います」= 任職著。' },
          { text: 'って', reason: '「勤める」是一段動詞，不用促音便。' },
          { text: 'いて', reason: '「勤める」的て形不是「勤めいて」。' },
          { text: 'んで', reason: '「んで」用於ぶ・む・ぬ結尾，不適合。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '一段動詞的て形 + いる',
          analysis: '「勤める」是一段動詞，去「る」加「て」→ 勤めて。「勤めています」= 任職中。',
          comparisons: ['一段：勤める → 勤めて', '五段：働く → 働いて'],
          relatedRules: ['📖 本課文法「ている」', '📖 本課單字「勤める」'],
        },
      },
      {
        id: 'n5_u4_l2_q11',
        category: 'grammar',
        level: 'N5',
        tags: ['te-iru'],
        stem: '妹{いもうと}は今{いま}テレビを＿＿います。',
        stemZh: '妹妹現在正在看電視。',
        options: [
          { text: '見て', reason: '正確。「見る」（一段）→ 去「る」加「て」→「見て」+「います」。' },
          { text: '見って', reason: '「見る」是一段動詞，不用促音便。' },
          { text: '見んで', reason: '「見る」的て形不是「見んで」。' },
          { text: '見いて', reason: '「見いて」不是正確的て形。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '一段動詞「見る」的て形',
          analysis: '「見る」是一段動詞，て形簡單：去「る」加「て」→ 見て。「見ています」= 正在看。',
          relatedRules: ['📖 本課文法「ている」', '📖 本課單字「見る」'],
        },
      },
      {
        id: 'n5_u4_l2_q12',
        category: 'grammar',
        level: 'N5',
        tags: ['te-iru'],
        stem: '兄{あに}は今{いま}本{ほん}を読{よ}＿＿います。',
        stemZh: '哥哥現在正在讀書。',
        options: [
          { text: 'んで', reason: '正確。「読む」（五段，む結尾）→ 撥音便「読んで」。' },
          { text: 'みて', reason: '「読みて」不是正確的て形。' },
          { text: 'って', reason: '「む」結尾不用促音便，用撥音便「んで」。' },
          { text: 'いて', reason: '「読いて」不是正確的て形。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「む」結尾五段動詞的て形',
          analysis: '「読む」（五段，む結尾）→ 撥音便「読んで」。む・ぶ・ぬ結尾都用「んで」。',
          commonMistakes: ['む/ぶ/ぬ結尾 → んで（撥音便）：読む→読んで、飛ぶ→飛んで'],
          relatedRules: ['📖 本課文法「ている」', '📖 本課單字「読む」'],
        },
      },
      {
        id: 'n5_u4_l2_q13',
        category: 'grammar',
        level: 'N5',
        tags: ['te-aru'],
        stem: 'エアコンが＿＿あります。部屋{へや}は涼{すず}しいです。',
        stemZh: '冷氣開著。房間很涼。',
        options: [
          { text: 'つけて', reason: '正確。「つけてある」= 開著（某人開了，結果狀態維持）。' },
          { text: 'つけ', reason: '需要て形接「ある」。' },
          { text: 'ついて', reason: '「ついている」是自動詞形式，但此處用「てある」需他動詞。' },
          { text: 'つけって', reason: '「つける」是一段動詞，て形是「つけて」，不是促音便。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「てある」表結果狀態',
          analysis: '「てある」接他動詞，表示某人做了某事後的結果狀態。「つけてある」= 開著。',
          comparisons: ['ている（進行/狀態）：テレビを見ている', 'てある（結果狀態）：エアコンがつけてある'],
          relatedRules: ['📖 本課文法「てある」'],
        },
      },
      {
        id: 'n5_u4_l2_q14',
        category: 'grammar',
        level: 'N5',
        tags: ['te-aru', 'te-iru'],
        stem: '窓{まど}が開{あ}けて＿＿から、風{かぜ}が入{はい}っています。',
        stemZh: '因為窗戶開著，所以風吹進來了。',
        options: [
          { text: 'いる', reason: '「開けている」是「正在開」（動作進行），但窗戶是狀態。' },
          { text: 'おく', reason: '「開けておく」= 先開好（為將來做準備），語意略不同。' },
          { text: 'ある', reason: '正確。「開けてある」= 開著（結果狀態）。他動詞 + てある。' },
          { text: 'みる', reason: '「開けてみる」= 試著打開，語意不同。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「てある」vs「ている」',
          analysis: '「開けてある」強調有人打開後的結果狀態。「ている」側重動作進行或持續。',
          comparisons: ['てある：窓が開けてある（窗戶被打開著）', 'ている：窓を開けている（正在開窗／開著）'],
          relatedRules: ['📖 本課文法「てある」', '📖 本課文法「ている」'],
        },
      },
      {
        id: 'n5_u4_l2_q15',
        category: 'grammar',
        level: 'N5',
        tags: ['te-iru', 'te-aru', 'comprehensive'],
        stem: '壁{かべ}に地図{ちず}が貼{は}って＿＿。誰{だれ}かが貼{は}ったようです。',
        stemZh: '牆上貼著地圖。好像是有人貼的。',
        options: [
          { text: 'います', reason: '「ている」是進行或持續，但此處強調有人貼後的結果狀態。' },
          { text: 'おきます', reason: '「ておく」= 事先做好，語意不合。' },
          { text: 'みます', reason: '「てみる」= 試著做，語意不合。' },
          { text: 'あります', reason: '正確。「貼ってある」= 貼著（有人貼後的結果狀態）。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '「てある」表有意識動作的結果',
          analysis: '「てある」表示有人做了某動作後留下的結果狀態。「貼ってある」= 有人貼上去的狀態。',
          comparisons: ['てある：意圖性結果（地図が貼ってある）', 'ている：動作進行或狀態（雨が降っている）'],
          relatedRules: ['📖 本課文法「てある」', '📖 本課文法「ている」'],
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L3: まだ終{お}わっていません (還沒做完)
  // ============================================================
  {
    id: 'n5_u4_l3',
    unitId: 'n5_u4',
    order: 3,
    titleJp: 'まだ終{お}わっていません',
    titleZh: '還沒做完',
    objectives: [
      '學會用「まだ〜ていません」表達尚未完成',
      '學會用「それから」連接順序動作',
      '掌握日常生活及移動相關動詞',
    ],

    vocabulary: [
      { word: '切る', reading: 'きる', meaning: '剪', meaning_zh: '剪' },
      { word: '置く', reading: 'おく', meaning: '放', meaning_zh: '放' },
      { word: '並べる', reading: 'ならべる', meaning: '排列', meaning_zh: '排列' },
      { word: '掛ける', reading: 'かける', meaning: '掛', meaning_zh: '掛' },
      { word: '返す', reading: 'かえす', meaning: '歸還', meaning_zh: '歸還' },
      { word: '座る', reading: 'すわる', meaning: '坐', meaning_zh: '坐' },
      { word: '立つ', reading: 'たつ', meaning: '站', meaning_zh: '站' },
      { word: '呼ぶ', reading: 'よぶ', meaning: '呼叫', meaning_zh: '呼叫' },
      { word: '待つ', reading: 'まつ', meaning: '等待', meaning_zh: '等待' },
      { word: '死ぬ', reading: 'しぬ', meaning: '死', meaning_zh: '死' },
      { word: '鳴く', reading: 'なく', meaning: '叫', meaning_zh: '叫' },
      { word: '吹く', reading: 'ふく', meaning: '吹', meaning_zh: '吹' },
      { word: '吸う', reading: 'すう', meaning: '抽菸', meaning_zh: '抽菸' },
      { word: '進む', reading: 'すすむ', meaning: '前進', meaning_zh: '前進' },
      { word: '止まる', reading: 'とまる', meaning: '停止', meaning_zh: '停止' },
      { word: '帰る', reading: 'かえる', meaning: '回家', meaning_zh: '回家' },
      { word: '行く', reading: 'いく', meaning: '去', meaning_zh: '去' },
      { word: '來る', reading: 'くる', meaning: '來', meaning_zh: '來' },
    ],

    grammarIds: ['n5_mada_te_imasen', 'n5_sore_kara'],
    grammarSummaries: [
      {
        grammarId: 'n5_mada_te_imasen',
        pattern: 'まだ〜ていません',
        meaning: '還沒～',
        quickExample: 'まだ食{た}べていません。',
        quickExampleZh: '還沒吃。',
      },
      {
        grammarId: 'n5_sore_kara',
        pattern: 'それから',
        meaning: '然後',
        quickExample: '朝{あさ}ご飯{はん}を食{た}べます。それから学校{がっこう}に行{い}きます。',
        quickExampleZh: '吃早餐。然後去學校。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: '田中{たなか}さん、準備{じゅんび}はもう終{お}わりましたか。', chinese: '田中，準備好了嗎？' },
      { speaker: '田中{たなか}', japanese: 'いいえ、まだ終{お}わっていません。紙{かみ}をまだ切{き}っていません。', chinese: '不，還沒做完。紙還沒剪。' },
      { speaker: '佐藤{さとう}', japanese: 'じゃ、まず紙{かみ}を切{き}ってください。それから机{つくえ}の上{うえ}に並{なら}べてください。', chinese: '那先請剪紙。然後排在桌上。' },
      { speaker: '田中{たなか}', japanese: '分{わ}かりました。コートはまだ掛{か}けていません。どこに掛{か}けますか。', chinese: '我知道了。外套還沒掛。掛在哪裡？' },
      { speaker: '佐藤{さとう}', japanese: 'あそこに掛{か}けてください。それから椅子{いす}に座{すわ}って待{ま}ってください。', chinese: '請掛在那裡。然後請坐在椅子上等。' },
      { speaker: '田中{たなか}', japanese: 'あ、山田{やまだ}さんがまだ來{き}ていませんね。呼{よ}びましょうか。', chinese: '啊，山田還沒來呢。要叫他嗎？' },
      { speaker: '佐藤{さとう}', japanese: 'はい、お願{ねが}いします。電話{でんわ}で呼{よ}んでください。あと、借{か}りた本{ほん}はまだ返{かえ}していませんか。', chinese: '好的，拜託了。請打電話叫他。還有，借的書還沒還嗎？' },
      { speaker: '田中{たなか}', japanese: 'あ、まだ返{かえ}していません。明日{あした}帰{かえ}る前{まえ}に返{かえ}します。', chinese: '啊，還沒還。明天回家之前會還。' },
      { speaker: '佐藤{さとう}', japanese: '外{そと}で風{かぜ}が吹{ふ}いていますね。鳥{とり}が鳴{な}いているのが聞{き}こえます。', chinese: '外面風在吹呢。聽得到鳥在叫。' },
      { speaker: '田中{たなか}', japanese: 'はい。あ、バスが止{と}まりました。山田{やまだ}さんが來{き}ましたよ。立{た}って迎{むか}えましょう。', chinese: '是啊。啊，公車停了。山田來了喔。站起來迎接吧。' },
      { speaker: '佐藤{さとう}', japanese: 'よかった。じゃ、準備{じゅんび}を進{すす}めましょう。荷物{にもつ}をそこに置{お}いてください。それから始{はじ}めましょう。', chinese: '太好了。那繼續準備吧。行李請放在那裡。然後開始吧。' },
    ],

    quizQuestions: [
      {
        id: 'n5_u4_l3_q1',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '「座{すわ}る」の反対{はんたい}の動詞{どうし}はどれですか。',
        stemZh: '「坐」的反義動詞是哪個？',
        options: [
          { text: '待つ', reason: '「待つ」是等待，不是坐的反義。' },
          { text: '立つ', reason: '正確。「座る」（坐）⇔「立つ」（站）。' },
          { text: '置く', reason: '「置く」是放，不是坐的反義。' },
          { text: '帰る', reason: '「帰る」是回家，不是坐的反義。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '姿勢動詞反義配對',
          analysis: '座る（坐）⇔ 立つ（站）是基本姿勢反義動詞。',
          relatedRules: ['📖 本課單字「座る・立つ」'],
        },
      },
      {
        id: 'n5_u4_l3_q2',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '紙{かみ}をハサミで＿＿ます。',
        stemZh: '用剪刀＿＿紙。',
        options: [
          { text: '並べ', reason: '「並べる」是排列，不是剪。' },
          { text: '掛け', reason: '「掛ける」是掛，不是剪。' },
          { text: '切り', reason: '正確。「切る」= 剪、切。用剪刀剪紙。' },
          { text: '吹き', reason: '「吹く」是吹，不是剪。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「切る」的用法',
          analysis: '「切る（きる）」= 切、剪。可用於紙張、食材等物品。',
          relatedRules: ['📖 本課單字「切る」'],
        },
      },
      {
        id: 'n5_u4_l3_q3',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '図書館{としょかん}で借{か}りた本{ほん}を＿＿なければなりません。',
        stemZh: '必須＿＿從圖書館借的書。',
        options: [
          { text: '渡さ', reason: '「渡す」是交給，不是歸還。' },
          { text: '返さ', reason: '正確。「返す」= 歸還。借了書要歸還。' },
          { text: '貸さ', reason: '「貸す」是借出，不是歸還。' },
          { text: '出さ', reason: '「出す」是拿出，不是歸還。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「返す」的用法',
          analysis: '「返す（かえす）」= 歸還。注意與「帰る（かえる）」= 回家 的區別。',
          comparisons: ['返す：歸還東西', '帰る：回家'],
          relatedRules: ['📖 本課單字「返す」'],
        },
      },
      {
        id: 'n5_u4_l3_q4',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb-pair'],
        stem: '「進{すす}む」の反対{はんたい}はどれですか。',
        stemZh: '「前進」的反義詞是哪個？',
        options: [
          { text: '止まる', reason: '正確。「進む」（前進）⇔「止まる」（停止）。' },
          { text: '呼ぶ', reason: '「呼ぶ」是呼叫，不是反義。' },
          { text: '鳴く', reason: '「鳴く」是叫，不是反義。' },
          { text: '吸う', reason: '「吸う」是吸、抽菸，不是反義。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '移動動詞反義配對',
          analysis: '進む（前進）⇔ 止まる（停止）。',
          relatedRules: ['📖 本課單字「進む・止まる」'],
        },
      },
      {
        id: 'n5_u4_l3_q5',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: 'コートを壁{かべ}に＿＿ました。',
        stemZh: '把外套＿＿在牆上。',
        options: [
          { text: '置き', reason: '「置く」是放，通常放在水平面，不是牆上。' },
          { text: '並べ', reason: '「並べる」是排列，不是掛。' },
          { text: '掛け', reason: '正確。「掛ける」= 掛。把衣服掛在牆上。' },
          { text: '切り', reason: '「切る」是剪，不合語境。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「掛ける」的用法',
          analysis: '「掛ける（かける）」= 掛。常見用法：電話をかける（打電話）、コートを掛ける（掛外套）。',
          relatedRules: ['📖 本課單字「掛ける」'],
        },
      },
      {
        id: 'n5_u4_l3_q6',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '友達{ともだち}を大{おお}きい声{こえ}で＿＿ました。',
        stemZh: '大聲＿＿了朋友。',
        options: [
          { text: '吹き', reason: '「吹く」是吹，不是呼叫人。' },
          { text: '鳴き', reason: '「鳴く」是動物叫，不用於人呼叫人。' },
          { text: '吸い', reason: '「吸う」是吸、抽菸，不是呼叫。' },
          { text: '呼び', reason: '正確。「呼ぶ」= 呼叫、叫。大聲叫朋友。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '「呼ぶ」vs「鳴く」',
          analysis: '「呼ぶ」= 呼叫人，「鳴く」= 動物叫。注意主語不同。',
          comparisons: ['呼ぶ：呼叫人', '鳴く：動物叫聲'],
          relatedRules: ['📖 本課單字「呼ぶ・鳴く」'],
        },
      },
      {
        id: 'n5_u4_l3_q7',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: 'お皿{さら}を机{つくえ}の上{うえ}に＿＿ました。',
        stemZh: '把盤子＿＿在桌上。',
        options: [
          { text: '並べ', reason: '正確。「並べる」= 排列。把盤子排列在桌上。' },
          { text: '掛け', reason: '「掛ける」是掛，盤子通常不掛。' },
          { text: '吹き', reason: '「吹く」是吹，語意不通。' },
          { text: '待ち', reason: '「待つ」是等待，語意不通。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「並べる」的用法',
          analysis: '「並べる（ならべる）」= 排列。把物品整齊地擺放。',
          relatedRules: ['📖 本課單字「並べる」'],
        },
      },
      {
        id: 'n5_u4_l3_q8',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: 'ここでタバコを＿＿ないでください。',
        stemZh: '請不要在這裡＿＿菸。',
        options: [
          { text: '吹か', reason: '「吹く」是吹，不是抽菸。' },
          { text: '吸わ', reason: '正確。「吸う」= 吸、抽菸。「吸わないでください」= 請不要抽菸。' },
          { text: '鳴か', reason: '「鳴く」是動物叫，不合語境。' },
          { text: '死な', reason: '「死ぬ」是死，語意不通。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「吸う」的用法',
          analysis: '「吸う（すう）」= 吸、抽菸。「タバコを吸う」= 抽菸。ない形：吸わない。',
          relatedRules: ['📖 本課單字「吸う」'],
        },
      },
      {
        id: 'n5_u4_l3_q9',
        category: 'grammar',
        level: 'N5',
        tags: ['mada-te-imasen'],
        stem: 'A：宿題{しゅくだい}はもう終{お}わりましたか。\nB：いいえ、＿＿。',
        stemZh: 'A：作業已經做完了嗎？\nB：不，＿＿。',
        options: [
          { text: 'もう終わりません', reason: '「もう終わりません」意為「不會再結束了」，語意不通。' },
          { text: 'まだ終わっていません', reason: '正確。「まだ〜ていません」= 還沒～。' },
          { text: 'まだ終わりません', reason: '「終わりません」是否定現在式，不是「還沒」。' },
          { text: 'もう終わっていません', reason: '「もう」用於肯定，否定搭配「まだ」。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「まだ〜ていません」',
          analysis: '「もう〜ましたか」的否定回答用「まだ〜ていません」。「もう」⇔「まだ」。',
          comparisons: ['肯定：もう食べました（已經吃了）', '否定：まだ食べていません（還沒吃）'],
          relatedRules: ['📖 本課文法「まだ〜ていません」'],
        },
      },
      {
        id: 'n5_u4_l3_q10',
        category: 'grammar',
        level: 'N5',
        tags: ['mada-te-imasen'],
        stem: 'A：もう昼{ひる}ご飯{はん}を食{た}べましたか。\nB：いいえ、まだ＿＿。',
        stemZh: 'A：已經吃午餐了嗎？\nB：不，還沒＿＿。',
        options: [
          { text: '食べません', reason: '「食べません」是不吃，不是還沒吃。' },
          { text: '食べました', reason: '「食べました」是已經吃了，跟「まだ」矛盾。' },
          { text: '食べていません', reason: '正確。「まだ食べていません」= 還沒吃。' },
          { text: '食べたいです', reason: '「食べたいです」是想吃，不是還沒吃。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「まだ〜ていません」的活用',
          analysis: '「まだ」+ 動詞て形 +「いません」= 還沒做～。強調動作尚未完成。',
          relatedRules: ['📖 本課文法「まだ〜ていません」'],
        },
      },
      {
        id: 'n5_u4_l3_q11',
        category: 'grammar',
        level: 'N5',
        tags: ['mada-te-imasen'],
        stem: '山田{やまだ}さんはまだ＿＿。もう少{すこ}し待{ま}ちましょう。',
        stemZh: '山田還沒＿＿。再等一下吧。',
        options: [
          { text: '来ました', reason: '「来ました」是已經來了，與「まだ」矛盾。' },
          { text: '来ません', reason: '「来ません」是不來，不是還沒來。' },
          { text: '来ていません', reason: '正確。「まだ来ていません」= 還沒來。' },
          { text: '来たいです', reason: '「来たいです」是想來，不是還沒來。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「来る」的「まだ〜ていません」',
          analysis: '「来る」→ て形「来て」→「まだ来ていません」= 還沒來。「来る」是不規則動詞。',
          commonMistakes: ['来る的て形：来て（きて），不是「来って」或「来いて」'],
          relatedRules: ['📖 本課文法「まだ〜ていません」'],
        },
      },
      {
        id: 'n5_u4_l3_q12',
        category: 'grammar',
        level: 'N5',
        tags: ['sore-kara'],
        stem: '朝{あさ}起{お}きます。＿＿顔{かお}を洗{あら}います。',
        stemZh: '早上起床。＿＿洗臉。',
        options: [
          { text: 'だから', reason: '「だから」是因果關係（所以），不是順序。' },
          { text: 'でも', reason: '「でも」是轉折（但是），不是順序。' },
          { text: 'しかし', reason: '「しかし」是轉折（然而），不是順序。' },
          { text: 'それから', reason: '正確。「それから」= 然後。表示動作的順序。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '「それから」表順序',
          analysis: '「それから」用於連接先後發生的事情，意為「然後」。',
          comparisons: ['それから：然後（順序）', 'だから：所以（因果）', 'でも：但是（轉折）'],
          relatedRules: ['📖 本課文法「それから」'],
        },
      },
      {
        id: 'n5_u4_l3_q13',
        category: 'grammar',
        level: 'N5',
        tags: ['sore-kara'],
        stem: 'まず紙{かみ}を切{き}ってください。＿＿机{つくえ}の上{うえ}に並{なら}べてください。',
        stemZh: '先請剪紙。＿＿排在桌上。',
        options: [
          { text: 'しかし', reason: '「しかし」是轉折，不是順序。' },
          { text: 'それから', reason: '正確。「それから」= 然後。先剪再排列。' },
          { text: 'だから', reason: '「だから」是因果，不是順序。' },
          { text: 'でも', reason: '「でも」是轉折，不是順序。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「まず〜それから〜」的順序',
          analysis: '「まず」= 先、首先，「それから」= 然後。常用於描述步驟順序。',
          comparisons: ['まず〜 → それから〜：先做～然後做～'],
          relatedRules: ['📖 本課文法「それから」'],
        },
      },
      {
        id: 'n5_u4_l3_q14',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kudasai', 'comprehensive'],
        stem: 'すみません、ちょっと待{ま}＿＿ください。',
        stemZh: '不好意思，請稍等一下。',
        options: [
          { text: 'ち', reason: '「待ち」是連用形，不是正確的て形變化。' },
          { text: 'た', reason: '「待た」不是正確的て形。' },
          { text: 'ちて', reason: '「待ちて」是錯誤的て形。つ結尾的五段動詞用促音便。' },
          { text: 'って', reason: '正確。「待つ」（五段）→ て形「待って」→「待ってください」。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '「つ」結尾五段動詞的て形',
          analysis: '「待つ」→ 促音便「待って」。つ・る・う結尾的五段動詞て形都用促音便（っ）。',
          comparisons: ['待つ → 待って', '立つ → 立って', '座る → 座って'],
          relatedRules: ['📖 本課單字「待つ」'],
        },
      },
      {
        id: 'n5_u4_l3_q15',
        category: 'grammar',
        level: 'N5',
        tags: ['comprehensive'],
        stem: 'A：借{か}りた本{ほん}はまだ返{かえ}していませんか。\nB：まだです。明日{あした}帰{かえ}る＿＿に返{かえ}します。',
        stemZh: 'A：借的書還沒還嗎？\nB：還沒。明天回家＿＿還。',
        options: [
          { text: '前', reason: '正確。「帰る前に返す」= 回家之前還。' },
          { text: '後', reason: '「帰った後に」= 回家之後，但回家後才還不太方便。' },
          { text: 'から', reason: '「帰るから」= 因為要回家，語意不同。' },
          { text: 'まで', reason: '「帰るまで」= 到回家為止，語意不同。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「まだ〜ていません」與「前に」的綜合運用',
          analysis: '「まだ返していません」= 還沒還。「帰る前に返します」= 回家之前歸還。',
          relatedRules: ['📖 本課文法「まだ〜ていません」', '📖 本課單字「返す・帰る」'],
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L4: 一日{いちにち}のスケジュール (一天的行程)
  // ============================================================
  {
    id: 'n5_u4_l4',
    unitId: 'n5_u4',
    order: 4,
    titleJp: '一日{いちにち}のスケジュール',
    titleZh: '一天的行程',
    objectives: [
      '學會用「てから」表達先後順序',
      '學會用「前に」表達在某動作之前',
      '掌握交通工具與道路相關詞彙',
      '學會問路與指路的基本表達',
    ],

    vocabulary: [
      { word: '車', reading: 'くるま', meaning: '車', meaning_zh: '車' },
      { word: '自動車', reading: 'じどうしゃ', meaning: '汽車', meaning_zh: '汽車' },
      { word: '自転車', reading: 'じてんしゃ', meaning: '腳踏車', meaning_zh: '腳踏車' },
      { word: 'バス', reading: 'バス', meaning: '公車', meaning_zh: '公車' },
      { word: '電車', reading: 'でんしゃ', meaning: '電車', meaning_zh: '電車' },
      { word: 'タクシー', reading: 'タクシー', meaning: '計程車', meaning_zh: '計程車' },
      { word: '飛行機', reading: 'ひこうき', meaning: '飛機', meaning_zh: '飛機' },
      { word: '道', reading: 'みち', meaning: '道路', meaning_zh: '道路' },
      { word: '橋', reading: 'はし', meaning: '橋', meaning_zh: '橋' },
      { word: '角', reading: 'かど', meaning: '轉角', meaning_zh: '轉角' },
      { word: '交差點', reading: 'こうさてん', meaning: '十字路口', meaning_zh: '十字路口' },
      { word: '真っ直ぐ', reading: 'まっすぐ', meaning: '筆直', meaning_zh: '筆直' },
      { word: '曲がる', reading: 'まがる', meaning: '轉彎', meaning_zh: '轉彎' },
      { word: '近い', reading: 'ちかい', meaning: '近', meaning_zh: '近' },
      { word: '遠い', reading: 'とおい', meaning: '遠', meaning_zh: '遠' },
      { word: '速い', reading: 'はやい', meaning: '快', meaning_zh: '快' },
      { word: '向こう', reading: 'むこう', meaning: '對面', meaning_zh: '對面' },
    ],

    grammarIds: ['n5_te_kara', 'n5_mae_ni'],
    grammarSummaries: [
      {
        grammarId: 'n5_te_kara',
        pattern: '動詞て形 + から',
        meaning: '做完～之後',
        quickExample: 'ご飯{はん}を食{た}べてから、出{で}かけます。',
        quickExampleZh: '吃完飯之後出門。',
      },
      {
        grammarId: 'n5_mae_ni',
        pattern: '動詞辭書形 / 名詞の + 前{まえ}に',
        meaning: '～之前',
        quickExample: '寝{ね}る前{まえ}に歯{は}を磨{みが}きます。',
        quickExampleZh: '睡覺前刷牙。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: 'すみません、駅{えき}はこの辺{へん}ですか。', chinese: '不好意思，車站在這附近嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、近{ちか}いですよ。この道{みち}を真{ま}っ直{す}ぐ進{すす}んでください。', chinese: '是的，很近喔。這條路請一直走。' },
      { speaker: '佐藤{さとう}', japanese: 'それから、どうしますか。', chinese: '然後，怎麼走？' },
      { speaker: '田中{たなか}', japanese: '次{つぎ}の交差点{こうさてん}で曲{ま}がってください。橋{はし}を渡{わた}ってから、角{かど}を右{みぎ}に曲{ま}がります。', chinese: '在下一個十字路口轉彎。過橋之後，在轉角右轉。' },
      { speaker: '佐藤{さとう}', japanese: '橋{はし}の向{む}こうですね。駅{えき}から電車{でんしゃ}に乗{の}る前{まえ}に、切符{きっぷ}を買{か}いますか。', chinese: '在橋的對面呢。搭電車之前，要買票嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、切符{きっぷ}を買{か}ってから乗{の}ってください。バスやタクシーもありますよ。', chinese: '是的，請買好票再搭乘。也有公車和計程車喔。' },
      { speaker: '佐藤{さとう}', japanese: 'この道{みち}は自動車{じどうしゃ}が多{おお}いですね。自転車{じてんしゃ}で來{き}ましたが、速{はや}い車{くるま}ばかりで怖{こわ}かったです。', chinese: '這條路汽車好多呢。我騎腳踏車來的，但都是開很快的車，好可怕。' },
      { speaker: '田中{たなか}', japanese: '南{みなみ}の道{みち}は静{しず}かですよ。出{で}かける前{まえ}にそちらを調{しら}べてください。', chinese: '南邊的路很安靜喔。出門之前請查一下那邊。' },
      { speaker: '佐藤{さとう}', japanese: 'ありがとうございます。空港{くうこう}は遠{とお}いですか。来週{らいしゅう}飛行機{ひこうき}に乗{の}ります。', chinese: '謝謝。機場遠嗎？下週要搭飛機。' },
      { speaker: '田中{たなか}', japanese: '空港{くうこう}は遠{とお}いですね。電車{でんしゃ}に乗{の}ってから、バスに乗{の}り換{か}えてください。', chinese: '機場很遠呢。請搭電車之後再轉乘公車。' },
      { speaker: '佐藤{さとう}', japanese: '分{わ}かりました。出発{しゅっぱつ}の前{まえ}にこの辺{へん}を散歩{さんぽ}したいです。', chinese: '我知道了。出發之前想在這附近散步。' },
    ],

    quizQuestions: [
      {
        id: 'n5_u4_l4_q1',
        category: 'vocabulary',
        level: 'N5',
        tags: ['transport'],
        stem: '空{そら}を飛{と}ぶ乗{の}り物{もの}はどれですか。',
        stemZh: '在天空飛的交通工具是哪個？',
        options: [
          { text: '電車', reason: '電車在軌道上跑。' },
          { text: 'バス', reason: '公車在路上跑。' },
          { text: '飛行機', reason: '正確。「飛行機」是飛機，在天空飛。' },
          { text: 'タクシー', reason: '計程車在路上跑。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '交通工具詞彙',
          analysis: '「飛行機（ひこうき）」= 飛機。「飛行」= 飛行，「機」= 機器。',
          relatedRules: ['📖 本課單字「飛行機」'],
        },
      },
      {
        id: 'n5_u4_l4_q2',
        category: 'vocabulary',
        level: 'N5',
        tags: ['adjective'],
        stem: '「近{ちか}い」の反対{はんたい}はどれですか。',
        stemZh: '「近」的反義詞是哪個？',
        options: [
          { text: '速い', reason: '「速い」是快，不是近的反義。' },
          { text: '長い', reason: '「長い」是長，不是近的反義。' },
          { text: '広い', reason: '「広い」是寬，不是近的反義。' },
          { text: '遠い', reason: '正確。「近い」（近）⇔「遠い」（遠）。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '距離形容詞反義詞',
          analysis: '近い（近）⇔ 遠い（遠）是距離相關反義詞。',
          relatedRules: ['📖 本課單字「近い・遠い」'],
        },
      },
      {
        id: 'n5_u4_l4_q3',
        category: 'vocabulary',
        level: 'N5',
        tags: ['transport'],
        stem: '「じてんしゃ」を漢字{かんじ}で書{か}くとどれですか。',
        stemZh: '「じてんしゃ」用漢字寫是哪個？',
        options: [
          { text: '自動車', reason: '「自動車」讀作「じどうしゃ」，是汽車。' },
          { text: '自転車', reason: '正確。「自転車」讀作「じてんしゃ」，是腳踏車。' },
          { text: '電車', reason: '「電車」讀作「でんしゃ」，是電車。' },
          { text: '飛行機', reason: '「飛行機」讀作「ひこうき」，是飛機。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '交通工具漢字讀音',
          analysis: '「自転車」= 腳踏車，「自動車」= 汽車。注意「転」vs「動」的差異。',
          comparisons: ['自転車（じてんしゃ）= 腳踏車', '自動車（じどうしゃ）= 汽車'],
          relatedRules: ['📖 本課單字「自転車・自動車」'],
        },
      },
      {
        id: 'n5_u4_l4_q4',
        category: 'vocabulary',
        level: 'N5',
        tags: ['direction'],
        stem: 'この道{みち}を＿＿進{すす}んでください。',
        stemZh: '這條路請一直＿＿走。',
        options: [
          { text: '向こう', reason: '「向こう」是對面，不是筆直地。' },
          { text: '角', reason: '「角」是轉角，不是直走的意思。' },
          { text: '真っ直ぐ', reason: '正確。「真っ直ぐ」= 筆直。「真っ直ぐ進む」= 直走。' },
          { text: '橋', reason: '「橋」是橋，不是方向詞。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「真っ直ぐ」的用法',
          analysis: '「真っ直ぐ（まっすぐ）」= 筆直地。常用於指路：「真っ直ぐ行ってください」= 請直走。',
          relatedRules: ['📖 本課單字「真っ直ぐ」'],
        },
      },
      {
        id: 'n5_u4_l4_q5',
        category: 'vocabulary',
        level: 'N5',
        tags: ['direction'],
        stem: '交差点{こうさてん}を左{ひだり}に＿＿と、郵便局{ゆうびんきょく}があります。',
        stemZh: '在十字路口左轉的話，就有郵局。',
        options: [
          { text: '渡る', reason: '「渡る」是渡過（橋、路），不是轉彎。' },
          { text: '曲がる', reason: '正確。「曲がる」= 轉彎。「左に曲がる」= 左轉。' },
          { text: '進む', reason: '「進む」是前進、直走，不是轉彎。' },
          { text: '止まる', reason: '「止まる」是停止，不是轉彎。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '移動指路動詞',
          analysis: '「曲がる」= 轉彎，「右に曲がる」= 右轉，「左に曲がる」= 左轉。',
          relatedRules: ['📖 本課單字「曲がる」'],
        },
      },
      {
        id: 'n5_u4_l4_q6',
        category: 'vocabulary',
        level: 'N5',
        tags: ['place'],
        stem: '郵便局{ゆうびんきょく}は橋{はし}の＿＿にあります。',
        stemZh: '郵局在橋的＿＿。',
        options: [
          { text: '角', reason: '「角」是轉角，但說「橋の角」不自然。' },
          { text: '向こう', reason: '正確。「向こう」= 對面。「橋の向こう」= 橋的對面。' },
          { text: '道', reason: '「道」是道路，不能說「橋の道」。' },
          { text: '交差点', reason: '「交差点」是十字路口，不用於此處。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「向こう」的用法',
          analysis: '「向こう（むこう）」= 對面、那邊。「橋の向こう」= 橋的對面。',
          relatedRules: ['📖 本課單字「向こう」'],
        },
      },
      {
        id: 'n5_u4_l4_q7',
        category: 'vocabulary',
        level: 'N5',
        tags: ['transport'],
        stem: '雨{あめ}が降{ふ}っているので、＿＿に乗{の}って帰{かえ}りましょう。',
        stemZh: '因為在下雨，搭＿＿回去吧。',
        options: [
          { text: '自転車', reason: '下雨騎腳踏車不方便。' },
          { text: 'タクシー', reason: '正確。下雨天搭計程車回家是合理選擇。' },
          { text: '自動車', reason: '「自動車」是自己的車，不用「乗る」搭乘。' },
          { text: '橋', reason: '「橋」是橋，不是交通工具。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '情境中的交通工具選擇',
          analysis: '「タクシー」= 計程車。下雨天搭計程車是常見的交通選擇。',
          relatedRules: ['📖 本課單字「タクシー」'],
        },
      },
      {
        id: 'n5_u4_l4_q8',
        category: 'vocabulary',
        level: 'N5',
        tags: ['place'],
        stem: '次{つぎ}の＿＿で右{みぎ}に曲{ま}がってください。',
        stemZh: '在下一個＿＿右轉。',
        options: [
          { text: '角', reason: '正確。「角」= 轉角。「次の角で」= 在下一個轉角。' },
          { text: '道', reason: '「次の道で曲がる」也可以，但「角」更常用於轉彎。' },
          { text: '橋', reason: '「橋で曲がる」不太自然。' },
          { text: '向こう', reason: '「向こうで曲がる」不太自然。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「角」的用法',
          analysis: '「角（かど）」= 轉角。指路時常用「角を曲がる」= 在轉角處轉彎。',
          relatedRules: ['📖 本課單字「角・交差点」'],
        },
      },
      {
        id: 'n5_u4_l4_q9',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kara'],
        stem: 'ご飯{はん}を食{た}べ＿＿、歯{は}を磨{みが}きます。',
        stemZh: '吃完飯之後刷牙。',
        options: [
          { text: 'てから', reason: '正確。「食べてから」= 吃完之後。' },
          { text: 'る前に', reason: '「食べる前に」= 吃飯之前，順序相反。' },
          { text: 'たら', reason: '「食べたら」也可以表示之後，但「てから」更強調順序。' },
          { text: 'ても', reason: '「食べても」= 即使吃了，語意不同。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「てから」表示先後順序',
          analysis: '「てから」接在て形後面，表示「做完A之後再做B」。強調順序。',
          commonMistakes: ['× 食べるから → ○ 食べてから（「から」前面需要て形）'],
          relatedRules: ['📖 本課文法「てから」'],
        },
      },
      {
        id: 'n5_u4_l4_q10',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kara'],
        stem: '切符{きっぷ}を＿＿てから、電車{でんしゃ}に乗{の}ってください。',
        stemZh: '請＿＿車票之後再搭電車。',
        options: [
          { text: '買っ', reason: '正確。「買ってから」= 買了之後。先買票再搭車。' },
          { text: '買い', reason: '「買い」是連用形，不接「てから」。' },
          { text: '買う', reason: '辭書形不接「てから」，需要て形。' },
          { text: '買った', reason: '「買ったから」是過去式+因為，不是順序。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「てから」的接續',
          analysis: '「てから」接動詞て形。「買う」→ 促音便「買って」→「買ってから」= 買了之後。',
          relatedRules: ['📖 本課文法「てから」'],
        },
      },
      {
        id: 'n5_u4_l4_q11',
        category: 'grammar',
        level: 'N5',
        tags: ['mae-ni'],
        stem: '寝{ね}る＿＿に、お風呂{ふろ}に入{はい}ります。',
        stemZh: '睡覺＿＿洗澡。',
        options: [
          { text: '後', reason: '「寝た後に」= 睡覺之後，語意不同。' },
          { text: '前', reason: '正確。「寝る前に」= 睡覺之前。動詞辭書形 + 前に。' },
          { text: '時', reason: '「寝る時」= 睡覺的時候，語意不同。' },
          { text: 'まで', reason: '「寝るまで」= 直到睡覺，語意不同。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「前に」的接續',
          analysis: '動詞辭書形 + 前に = ～之前。「寝る前に」= 睡覺之前。',
          comparisons: ['動詞辭書形 + 前に：寝る前に', '名詞 + の前に：授業の前に'],
          relatedRules: ['📖 本課文法「前に」'],
        },
      },
      {
        id: 'n5_u4_l4_q12',
        category: 'grammar',
        level: 'N5',
        tags: ['mae-ni'],
        stem: '出{で}かける＿＿に、天気予報{てんきよほう}を確認{かくにん}します。',
        stemZh: '出門＿＿確認天氣預報。',
        options: [
          { text: '前', reason: '正確。「出かける前に」= 出門之前。先確認天氣再出門。' },
          { text: '後', reason: '「出かけた後に」= 出門之後確認，但通常出門前才確認。' },
          { text: 'から', reason: '「出かけるから」= 因為要出門，語法不同。' },
          { text: 'ので', reason: '「出かけるので」= 因為要出門，語法不同。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「前に」的語意',
          analysis: '「出かける前に」= 出門之前。「前に」表示在某動作發生之前做某事。',
          relatedRules: ['📖 本課文法「前に」'],
        },
      },
      {
        id: 'n5_u4_l4_q13',
        category: 'grammar',
        level: 'N5',
        tags: ['te-kara', 'mae-ni'],
        stem: '会社{かいしゃ}に着{つ}く前{まえ}に、コンビニでコーヒーを買{か}います。\nこの文{ぶん}の意味{いみ}はどれですか。',
        stemZh: '到公司之前，在便利商店買咖啡。\n這句話的意思是？',
        options: [
          { text: '先に会社に着いてからコーヒーを買う', reason: '這是「着いてから」= 到了之後才買，順序相反。' },
          { text: '会社でコーヒーを買う', reason: '不是在公司買，是在便利商店買。' },
          { text: '会社に着くと同時にコーヒーを買う', reason: '不是同時，是之前。' },
          { text: '先にコーヒーを買ってから会社に着く', reason: '正確。「着く前に」= 到達之前，先買咖啡。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '「前に」的語意理解',
          analysis: '「Aの前にB」= 在A之前做B。所以先做B，再發生A。',
          relatedRules: ['📖 本課文法「前に」'],
        },
      },
      {
        id: 'n5_u4_l4_q14',
        category: 'grammar',
        level: 'N5',
        tags: ['direction', 'comprehensive'],
        stem: '交差点{こうさてん}を右{みぎ}に＿＿と、銀行{ぎんこう}があります。',
        stemZh: '在十字路口右轉的話，就有銀行。',
        options: [
          { text: '曲がる', reason: '正確。「曲がると」= 轉彎的話。辭書形 + と = 條件。' },
          { text: '曲がって', reason: '「曲がって」是て形，不接「と」。' },
          { text: '曲がった', reason: '「曲がった」是過去式，不接「と」表條件。' },
          { text: '曲がり', reason: '「曲がり」是連用形，不接「と」表條件。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「と」表恆常條件',
          analysis: '動詞辭書形 + と = 一旦做了～就會～。「曲がると」= 轉彎的話。用於指路。',
          relatedRules: ['📖 本課單字「曲がる・交差点」'],
        },
      },
      {
        id: 'n5_u4_l4_q15',
        category: 'grammar',
        level: 'N5',
        tags: ['comprehensive'],
        stem: '家{いえ}を出{で}てから、バス停{てい}まで歩{ある}きます。＿＿バスに乗{の}って、駅{えき}の前{まえ}で降{お}ります。',
        stemZh: '出門之後，走到公車站。＿＿搭公車，在車站前面下車。',
        options: [
          { text: 'だから', reason: '「だから」是因果，這裡是時間順序。' },
          { text: 'でも', reason: '「でも」是轉折（但是），不是順序。' },
          { text: 'それから', reason: '正確。「それから」= 然後，連接順序動作。' },
          { text: 'まえに', reason: '「前に」是之前，但這裡描述的是之後的動作。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「てから」「それから」的順序描述',
          analysis: '描述日常順序：「てから」連接前後動作，「それから」連接句子間的順序。',
          relatedRules: ['📖 本課文法「てから」'],
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L5: 週末{しゅうまつ}にしたこと (週末做了什麼)
  // ============================================================
  {
    id: 'n5_u4_l5',
    unitId: 'n5_u4',
    order: 5,
    titleJp: '週末{しゅうまつ}にしたこと',
    titleZh: '週末做了什麼',
    objectives: [
      '學會用「たり〜たりする」列舉多個動作',
      '學會用「たことがある」表達過去經驗',
      '掌握家事與日常活動相關詞彙',
    ],

    vocabulary: [
      { word: '作る', reading: 'つくる', meaning: '做', meaning_zh: '做' },
      { word: '洗濯', reading: 'せんたく', meaning: '洗衣', meaning_zh: '洗衣' },
      { word: '掃除', reading: 'そうじ', meaning: '打掃', meaning_zh: '打掃' },
      { word: '日記', reading: 'にっき', meaning: '日記', meaning_zh: '日記' },
      { word: '手紙', reading: 'てがみ', meaning: '信', meaning_zh: '信' },
      { word: '作文', reading: 'さくぶん', meaning: '作文', meaning_zh: '作文' },
      { word: '新聞', reading: 'しんぶん', meaning: '報紙', meaning_zh: '報紙' },
      { word: '雜誌', reading: 'ざっし', meaning: '雜誌', meaning_zh: '雜誌' },
      { word: 'レストラン', reading: 'レストラン', meaning: '餐廳', meaning_zh: '餐廳' },
      { word: '誕生日', reading: 'たんじょうび', meaning: '生日', meaning_zh: '生日' },
      { word: '結婚', reading: 'けっこん', meaning: '結婚', meaning_zh: '結婚' },
      { word: '歌う', reading: 'うたう', meaning: '唱歌', meaning_zh: '唱歌' },
      { word: '疲れる', reading: 'つかれる', meaning: '累', meaning_zh: '累' },
      { word: '着く', reading: 'つく', meaning: '到達', meaning_zh: '到達' },
      { word: '無くす', reading: 'なくす', meaning: '弄丟', meaning_zh: '弄丟' },
      { word: '困る', reading: 'こまる', meaning: '困擾', meaning_zh: '困擾' },
      { word: '売る', reading: 'うる', meaning: '賣', meaning_zh: '賣' },
      { word: '閉まる', reading: 'しまる', meaning: '關閉', meaning_zh: '關閉' },
    ],

    grammarIds: ['n5_tari_tari', 'n5_ta_koto_ga_aru'],
    grammarSummaries: [
      {
        grammarId: 'n5_tari_tari',
        pattern: '動詞た形 + り〜たり + する',
        meaning: '做～或做～等事',
        quickExample: '週末{しゅうまつ}は本{ほん}を読{よ}んだり映画{えいが}を見{み}たりします。',
        quickExampleZh: '週末看看書、看看電影之類的。',
      },
      {
        grammarId: 'n5_ta_koto_ga_aru',
        pattern: '動詞た形 + ことがある',
        meaning: '曾經做過～',
        quickExample: '日本{にほん}に行{い}ったことがあります。',
        quickExampleZh: '曾經去過日本。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: '週末{しゅうまつ}は何{なに}をしましたか。', chinese: '週末做了什麼？' },
      { speaker: '山田{やまだ}', japanese: '部屋{へや}を掃除{そうじ}したり、洗濯{せんたく}したりしました。それから日記{にっき}も書{か}きました。', chinese: '打掃房間、洗衣服之類的。然後也寫了日記。' },
      { speaker: '佐藤{さとう}', japanese: '大変{たいへん}でしたね。疲{つか}れませんでしたか。', chinese: '辛苦了呢。不累嗎？' },
      { speaker: '山田{やまだ}', japanese: '少{すこ}し疲{つか}れました。でも夜{よる}は友達{ともだち}の誕生日{たんじょうび}パーティーに行{い}きました。歌{うた}ったりケーキを作{つく}ったりしました。', chinese: '有點累。但晚上去了朋友的生日派對。唱唱歌、做蛋糕之類的。' },
      { speaker: '佐藤{さとう}', japanese: 'いいですね！日本料理{にほんりょうり}のレストランに行{い}ったことがありますか。', chinese: '真好！你有去過日本料理的餐廳嗎？' },
      { speaker: '山田{やまだ}', japanese: 'はい、行{い}ったことがあります。お寿司{すし}を食{た}べたり、お茶{ちゃ}を飲{の}んだりしました。', chinese: '有，去過。吃壽司、喝茶之類的。' },
      { speaker: '佐藤{さとう}', japanese: 'あ、そうだ。手紙{てがみ}はもう書{か}きましたか。結婚{けっこん}のお祝{いわ}いの。', chinese: '啊，對了。信已經寫好了嗎？結婚的祝賀信。' },
      { speaker: '山田{やまだ}', japanese: 'いいえ、まだです。困{こま}っています。作文{さくぶん}は得意{とくい}じゃないので。', chinese: '不，還沒。很傷腦筋。因為不擅長寫作文。' },
      { speaker: '佐藤{さとう}', japanese: '新聞{しんぶん}を読{よ}みましたか。駅前{えきまえ}の本屋{ほんや}がもう閉{し}まったそうです。', chinese: '看報紙了嗎？聽說車站前的書店已經關了。' },
      { speaker: '山田{やまだ}', japanese: 'えっ、雜誌{ざっし}をよくそこで買{か}っていたのに。着{つ}いたら売{う}り切{き}れていたこともありましたが、好{す}きな店{みせ}でした。', chinese: '咦，明明常在那裡買雜誌的。雖然到了之後有時賣完了，但是喜歡的店。' },
      { speaker: '佐藤{さとう}', japanese: '鍵{かぎ}を無{な}くしたことがありますか。私{わたし}は先週{せんしゅう}無{な}くして困{こま}りました。', chinese: '你有弄丟過鑰匙嗎？我上週弄丟了，很困擾。' },
    ],

    quizQuestions: [
      {
        id: 'n5_u4_l5_q1',
        category: 'vocabulary',
        level: 'N5',
        tags: ['noun'],
        stem: '「てがみ」を漢字{かんじ}で書{か}くとどれですか。',
        stemZh: '「てがみ」用漢字寫是哪個？',
        options: [
          { text: '日記', reason: '「日記」讀作「にっき」。' },
          { text: '手紙', reason: '正確。「手紙」讀作「てがみ」，意為信。' },
          { text: '作文', reason: '「作文」讀作「さくぶん」。' },
          { text: '新聞', reason: '「新聞」讀作「しんぶん」。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '漢字讀音',
          analysis: '「手紙」讀作「てがみ」，意為信件。注意：在中文裡「手紙」意思不同（衛生紙）。',
          commonMistakes: ['日中差異：日文「手紙」= 信 ≠ 中文「手紙」= 衛生紙'],
          relatedRules: ['📖 本課單字「手紙」'],
        },
      },
      {
        id: 'n5_u4_l5_q2',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '部屋{へや}が汚{きたな}いので、＿＿をします。',
        stemZh: '因為房間髒了，所以要＿＿。',
        options: [
          { text: '洗濯', reason: '「洗濯」是洗衣服，不是清掃房間。' },
          { text: '作文', reason: '「作文」是寫文章，不相關。' },
          { text: '掃除', reason: '正確。「掃除をする」= 打掃。房間髒了要打掃。' },
          { text: '結婚', reason: '「結婚」是結婚，不相關。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '家事相關詞彙',
          analysis: '「掃除」= 打掃，「洗濯」= 洗衣服。兩者都是常見家事。',
          comparisons: ['掃除（打掃房間）', '洗濯（洗衣服）'],
          relatedRules: ['📖 本課單字「掃除・洗濯」'],
        },
      },
      {
        id: 'n5_u4_l5_q3',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '大切{たいせつ}なものを＿＿てしまいました。とても困{こま}っています。',
        stemZh: '把重要的東西＿＿了。非常困擾。',
        options: [
          { text: '売っ', reason: '「売る」是賣，不是弄丟。' },
          { text: '作っ', reason: '「作る」是做，不會因做了東西而困擾。' },
          { text: '歌っ', reason: '「歌う」是唱歌，語意不通。' },
          { text: '無くし', reason: '正確。「無くす」= 弄丟。弄丟重要東西會困擾。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '動詞語義',
          analysis: '「無くす」= 弄丟、遺失。「困る」= 困擾。弄丟重要東西會感到困擾。',
          relatedRules: ['📖 本課單字「無くす・困る」'],
        },
      },
      {
        id: 'n5_u4_l5_q4',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '友達{ともだち}の誕生日{たんじょうび}にケーキを＿＿ました。',
        stemZh: '朋友生日時＿＿了蛋糕。',
        options: [
          { text: '作り', reason: '正確。「作る」= 做、製作。做蛋糕慶祝生日。' },
          { text: '売り', reason: '「売る」是賣，不是做蛋糕。' },
          { text: '歌い', reason: '「歌う」是唱歌，不是做蛋糕。' },
          { text: '着き', reason: '「着く」是到達，不合語境。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「作る」的用法',
          analysis: '「作る（つくる）」= 做、製作。「ケーキを作る」= 做蛋糕。',
          relatedRules: ['📖 本課單字「作る」'],
        },
      },
      {
        id: 'n5_u4_l5_q5',
        category: 'vocabulary',
        level: 'N5',
        tags: ['noun'],
        stem: '「しんぶん」の意味{いみ}はどれですか。',
        stemZh: '「しんぶん」的意思是哪個？',
        options: [
          { text: '日記', reason: '「日記」讀作「にっき」。' },
          { text: '雜誌', reason: '「雜誌」讀作「ざっし」。' },
          { text: '作文', reason: '「作文」讀作「さくぶん」。' },
          { text: '新聞', reason: '正確。「新聞（しんぶん）」= 報紙。注意日中差異。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '日中差異詞彙',
          analysis: '日文「新聞」= 報紙（不是中文的「新聞」= 新聞報導）。',
          commonMistakes: ['日中差異：日文「新聞」= 報紙 ≠ 中文「新聞」'],
          relatedRules: ['📖 本課單字「新聞」'],
        },
      },
      {
        id: 'n5_u4_l5_q6',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: 'たくさん歩{ある}いて、とても＿＿ました。',
        stemZh: '走了很多路，非常＿＿。',
        options: [
          { text: '困り', reason: '「困る」是困擾，不是走路後的感受。' },
          { text: '疲れ', reason: '正確。「疲れる」= 累。走了很多路會很累。' },
          { text: '閉まり', reason: '「閉まる」是關閉，不合語境。' },
          { text: '売り', reason: '「売る」是賣，不合語境。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「疲れる」的用法',
          analysis: '「疲れる（つかれる）」= 累、疲倦。「疲れました」= 累了。',
          relatedRules: ['📖 本課單字「疲れる」'],
        },
      },
      {
        id: 'n5_u4_l5_q7',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: 'お店{みせ}は夜{よる}9時{くじ}に＿＿ます。',
        stemZh: '店在晚上9點＿＿。',
        options: [
          { text: '売り', reason: '「売る」是賣，不是關門。' },
          { text: '着き', reason: '「着く」是到達，不合語境。' },
          { text: '閉まり', reason: '正確。「閉まる」= 關閉（自動詞）。店會自己關門。' },
          { text: '困り', reason: '「困る」是困擾，不合語境。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「閉まる」vs「閉める」',
          analysis: '「閉まる」= 關閉（自動詞），「閉める」= 關上（他動詞）。店自己關 → 閉まる。',
          comparisons: ['閉まる（自動詞）：ドアが閉まる', '閉める（他動詞）：ドアを閉める'],
          relatedRules: ['📖 本課單字「閉まる」'],
        },
      },
      {
        id: 'n5_u4_l5_q8',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: 'みんなで歌{うた}を＿＿ましょう。',
        stemZh: '大家一起＿＿歌吧。',
        options: [
          { text: '作り', reason: '「作る」是做，不是唱歌。' },
          { text: '売り', reason: '「売る」是賣，不是唱歌。' },
          { text: '歌い', reason: '正確。「歌う」= 唱歌。「歌を歌う」= 唱歌。' },
          { text: '書き', reason: '「書く」是寫，不是唱歌。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「歌う」的用法',
          analysis: '「歌う（うたう）」= 唱歌。「歌を歌う」= 唱歌。是五段動詞。',
          relatedRules: ['📖 本課單字「歌う」'],
        },
      },
      {
        id: 'n5_u4_l5_q9',
        category: 'grammar',
        level: 'N5',
        tags: ['tari-tari'],
        stem: '週末{しゅうまつ}は音楽{おんがく}を聞{き}い＿＿、本{ほん}を読{よ}ん＿＿します。',
        stemZh: '週末聽聽音樂、看看書之類的。',
        options: [
          { text: 'たり / だり', reason: '正確。「聞く」→「聞いたり」、「読む」→「読んだり」。' },
          { text: 'て / で', reason: '「て/で」是連接，不是「たり〜たり」的形式。' },
          { text: 'たら / だら', reason: '「たら」是條件形，不是列舉。' },
          { text: 'ても / でも', reason: '「ても」是讓步，不是列舉。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「たり〜たり」的接續',
          analysis: '「たり」接在た形後面。「聞く」→ 聞いた → 聞いたり。「読む」→ 読んだ → 読んだり。',
          commonMistakes: ['注意清濁：「聞いたり」（清音）vs「読んだり」（濁音）'],
          relatedRules: ['📖 本課文法「たり〜たりする」'],
        },
      },
      {
        id: 'n5_u4_l5_q10',
        category: 'grammar',
        level: 'N5',
        tags: ['tari-tari'],
        stem: '日曜日{にちようび}は掃除{そうじ}し＿＿、洗濯{せんたく}し＿＿しました。',
        stemZh: '星期天打打掃、洗洗衣服之類的。',
        options: [
          { text: 'たり / たり', reason: '正確。する → した → したり。兩者都是する動詞。' },
          { text: 'て / て', reason: '「して」是連接形，不是「たり」。' },
          { text: 'だり / だり', reason: '「する」的た形是「した」，不是「しだ」。' },
          { text: 'ながら / ながら', reason: '「ながら」是同時進行，不是列舉。' },
        ],
        correctIndex: 0,
        explanation: {
          keyPoint: '「する」動詞的「たり」形',
          analysis: '「する」→ した → したり。掃除する → 掃除したり。洗濯する → 洗濯したり。',
          relatedRules: ['📖 本課文法「たり〜たりする」'],
        },
      },
      {
        id: 'n5_u4_l5_q11',
        category: 'grammar',
        level: 'N5',
        tags: ['tari-tari'],
        stem: '去年{きょねん}の誕生日{たんじょうび}は友達{ともだち}とレストランで食{た}べ＿＿、カラオケで歌{うた}＿＿しました。',
        stemZh: '去年的生日和朋友在餐廳吃飯、在卡拉OK唱歌之類的。',
        options: [
          { text: 'て / って', reason: '「て」是連接形，不是列舉。' },
          { text: 'たり / ったり', reason: '正確。食べる→食べたり、歌う→歌ったり。' },
          { text: 'たら / ったら', reason: '「たら」是條件形，不是列舉。' },
          { text: 'ても / っても', reason: '「ても」是讓步形，不是列舉。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「たり〜たりする」的綜合運用',
          analysis: '一段動詞：食べる → 食べた → 食べたり。五段動詞：歌う → 歌った → 歌ったり。',
          comparisons: ['一段：食べる → 食べたり', '五段（う）：歌う → 歌ったり（促音便）'],
          relatedRules: ['📖 本課文法「たり〜たりする」'],
        },
      },
      {
        id: 'n5_u4_l5_q12',
        category: 'grammar',
        level: 'N5',
        tags: ['ta-koto-ga-aru'],
        stem: '日本{にほん}に行{い}った＿＿がありますか。',
        stemZh: '你曾經去過日本嗎？',
        options: [
          { text: 'もの', reason: '「もの」指具體的東西，不用於經驗表達。' },
          { text: 'ところ', reason: '「ところ」指場所或時間點，不用於經驗。' },
          { text: 'こと', reason: '正確。「行ったことがある」= 曾經去過。' },
          { text: 'ほう', reason: '「ほう」用於比較，不用於經驗表達。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「たことがある」經驗表達',
          analysis: '「動詞た形 + ことがある」= 曾經做過～。「行ったことがある」= 曾經去過。',
          commonMistakes: ['× 行くことがある → ○ 行ったことがある（需要た形）'],
          relatedRules: ['📖 本課文法「たことがある」'],
        },
      },
      {
        id: 'n5_u4_l5_q13',
        category: 'grammar',
        level: 'N5',
        tags: ['ta-koto-ga-aru'],
        stem: 'お寿司{すし}を＿＿ことがありますか。',
        stemZh: '你有吃過壽司嗎？',
        options: [
          { text: '食べる', reason: '辭書形不接「ことがある」表經驗，需要た形。' },
          { text: '食べた', reason: '正確。「食べたことがある」= 曾經吃過。た形 + ことがある。' },
          { text: '食べて', reason: '「食べて」是て形，不接「ことがある」表經驗。' },
          { text: '食べない', reason: '「食べない」是否定形，不接「ことがある」表經驗。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「たことがある」的接續',
          analysis: '「たことがある」前面接動詞た形。「食べる」→「食べた」→「食べたことがある」。',
          commonMistakes: ['× 食べることがある → ○ 食べたことがある'],
          relatedRules: ['📖 本課文法「たことがある」'],
        },
      },
      {
        id: 'n5_u4_l5_q14',
        category: 'grammar',
        level: 'N5',
        tags: ['ta-koto-ga-aru'],
        stem: '沖縄{おきなわ}に行{い}ったことが＿＿。いつか行{い}ってみたいです。',
        stemZh: '不曾去過沖繩。總有一天想去看看。',
        options: [
          { text: 'あります', reason: '「あります」是肯定（曾經有過），但中文意思是沒去過。' },
          { text: 'ありません', reason: '正確。「行ったことがありません」= 不曾去過。' },
          { text: 'いました', reason: '「いました」用於人或動物存在，不用於經驗。' },
          { text: 'できます', reason: '「できます」= 能夠，不用於經驗表達。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「たことがある」的否定',
          analysis: '「たことがある」→ 否定「たことがない / ありません」= 不曾做過～。',
          relatedRules: ['📖 本課文法「たことがある」'],
        },
      },
      {
        id: 'n5_u4_l5_q15',
        category: 'grammar',
        level: 'N5',
        tags: ['comprehensive'],
        stem: '鍵{かぎ}を無{な}くした＿＿がありますか。私{わたし}は先週{せんしゅう}無{な}くして困{こま}りました。',
        stemZh: '你有弄丟過鑰匙＿＿？我上週弄丟了，很困擾。',
        options: [
          { text: 'もの', reason: '「もの」指東西，不用於經驗。' },
          { text: 'こと', reason: '正確。「無くしたことがある」= 曾經弄丟過。' },
          { text: 'ところ', reason: '「ところ」指場所，不用於此。' },
          { text: 'ほう', reason: '「ほう」用於比較，不用於此。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「たことがある」的綜合運用',
          analysis: '「無くす」→「無くした」→「無くしたことがある」= 曾經弄丟過。結合情境理解。',
          relatedRules: ['📖 本課文法「たことがある」', '📖 本課單字「無くす・困る」'],
        },
      },
    ] as UnifiedQuestion[],
  },

  // ============================================================
  // L6: もう終{お}わりましたか (已經做完了嗎)
  // ============================================================
  {
    id: 'n5_u4_l6',
    unitId: 'n5_u4',
    order: 6,
    titleJp: 'もう終{お}わりましたか',
    titleZh: '已經做完了嗎',
    objectives: [
      '學會用「もう」表達已經完成',
      '學會用「まだ」表達持續狀態',
      '掌握時間詞彙與生活事件相關詞彙',
    ],

    vocabulary: [
      { word: '生まれる', reading: 'うまれる', meaning: '出生', meaning_zh: '出生' },
      { word: '渡る', reading: 'わたる', meaning: '渡過', meaning_zh: '渡過' },
      { word: '来月', reading: 'らいげつ', meaning: '下個月', meaning_zh: '下個月' },
      { word: '来年', reading: 'らいねん', meaning: '明年', meaning_zh: '明年' },
      { word: '去年', reading: 'きょねん', meaning: '去年', meaning_zh: '去年' },
      { word: '先月', reading: 'せんげつ', meaning: '上個月', meaning_zh: '上個月' },
      { word: '毎月', reading: 'まいつき', meaning: '每月', meaning_zh: '每月' },
      { word: '毎年', reading: 'まいとし', meaning: '每年', meaning_zh: '每年' },
      { word: '町', reading: 'まち', meaning: '城鎮', meaning_zh: '城鎮' },
      { word: '東', reading: 'ひがし', meaning: '東', meaning_zh: '東' },
      { word: '西', reading: 'にし', meaning: '西', meaning_zh: '西' },
      { word: '南', reading: 'みなみ', meaning: '南', meaning_zh: '南' },
      { word: '北', reading: 'きた', meaning: '北', meaning_zh: '北' },
      { word: '辺', reading: 'へん', meaning: '這一帶', meaning_zh: '這一帶' },
      { word: '次', reading: 'つぎ', meaning: '下一個', meaning_zh: '下一個' },
      { word: '階段', reading: 'かいだん', meaning: '樓梯', meaning_zh: '樓梯' },
      { word: '廊下', reading: 'ろうか', meaning: '走廊', meaning_zh: '走廊' },
    ],

    grammarIds: ['n5_mada', 'n5_mou'],
    grammarSummaries: [
      {
        grammarId: 'n5_mada',
        pattern: 'まだ',
        meaning: '還（持續狀態）',
        quickExample: 'まだ雨{あめ}が降{ふ}っています。',
        quickExampleZh: '還在下雨。',
      },
      {
        grammarId: 'n5_mou',
        pattern: 'もう',
        meaning: '已經',
        quickExample: 'もう宿題{しゅくだい}を終{お}わりました。',
        quickExampleZh: '已經做完作業了。',
      },
    ],

    dialogue: [
      { speaker: '佐藤{さとう}', japanese: '田中{たなか}さん、もう引{ひ}っ越{こ}しの準備{じゅんび}は終{お}わりましたか。', chinese: '田中，搬家的準備已經做完了嗎？' },
      { speaker: '田中{たなか}', japanese: 'いいえ、まだ終{お}わっていません。来月{らいげつ}までに終{お}わらせたいです。', chinese: '不，還沒做完。想在下個月之前完成。' },
      { speaker: '佐藤{さとう}', japanese: '新{あたら}しい町{まち}はどの辺{へん}ですか。', chinese: '新的城鎮在哪一帶？' },
      { speaker: '田中{たなか}', japanese: '駅{えき}の北{きた}です。去年{きょねん}一度{いちど}行{い}きました。東{ひがし}に大{おお}きい公園{こうえん}があって、西{にし}にスーパーがあります。', chinese: '在車站的北邊。去年去過一次。東邊有大公園，西邊有超市。' },
      { speaker: '佐藤{さとう}', japanese: '南{みなみ}には何{なに}がありますか。', chinese: '南邊有什麼？' },
      { speaker: '田中{たなか}', japanese: '南{みなみ}には学校{がっこう}があります。廊下{ろうか}が広{ひろ}くて、階段{かいだん}もきれいだそうです。先月{せんげつ}見学{けんがく}に行{い}きました。', chinese: '南邊有學校。聽說走廊很寬、樓梯也很漂亮。上個月去參觀了。' },
      { speaker: '佐藤{さとう}', japanese: 'いいですね。もう次{つぎ}の家{いえ}は決{き}まりましたか。', chinese: '真好。下一個住處已經決定了嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、もう決{き}まりました。毎月{まいつき}の家賃{やちん}も安{やす}いです。', chinese: '是的，已經決定了。每個月的房租也便宜。' },
      { speaker: '佐藤{さとう}', japanese: '子{こ}どもはまだ小{ちい}さいですか。この辺{へん}で生{う}まれましたか。', chinese: '孩子還小嗎？在這一帶出生的嗎？' },
      { speaker: '田中{たなか}', japanese: 'はい、去年{きょねん}この町{まち}で生{う}まれました。来年{らいねん}からは新{あたら}しい町{まち}で育{そだ}てます。毎年{まいとし}この辺{へん}に遊{あそ}びに來{き}たいです。', chinese: '是的，去年在這個城鎮出生的。明年起在新的城鎮養育。每年都想來這一帶玩。' },
      { speaker: '佐藤{さとう}', japanese: '橋{はし}を渡{わた}って向{む}こうの公園{こうえん}に行{い}きましょう。もう桜{さくら}が咲{さ}いていますよ。', chinese: '渡過橋到對面的公園去吧。櫻花已經開了喔。' },
      { speaker: '田中{たなか}', japanese: 'いいですね。まだ時間{じかん}がありますから、行{い}きましょう。', chinese: '好啊。還有時間，走吧。' },
    ],

    quizQuestions: [
      {
        id: 'n5_u4_l6_q1',
        category: 'vocabulary',
        level: 'N5',
        tags: ['time'],
        stem: '「先月{せんげつ}」の反対{はんたい}はどれですか。',
        stemZh: '「上個月」的反義是哪個？',
        options: [
          { text: '去年', reason: '「去年」是去年，不是月份的反義。' },
          { text: '来月', reason: '正確。「先月」（上個月）⇔「来月」（下個月）。' },
          { text: '毎月', reason: '「毎月」是每個月，不是反義。' },
          { text: '来年', reason: '「来年」是明年，不是月份的反義。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '時間詞的反義配對',
          analysis: '先月（せんげつ）⇔ 来月（らいげつ）、去年（きょねん）⇔ 来年（らいねん）。',
          relatedRules: ['📖 本課單字「先月・来月」'],
        },
      },
      {
        id: 'n5_u4_l6_q2',
        category: 'vocabulary',
        level: 'N5',
        tags: ['direction'],
        stem: '「みなみ」を漢字{かんじ}で書{か}くとどれですか。',
        stemZh: '「みなみ」用漢字寫是哪個？',
        options: [
          { text: '北', reason: '「北」讀作「きた」。' },
          { text: '西', reason: '「西」讀作「にし」。' },
          { text: '南', reason: '正確。「南」讀作「みなみ」，是南方。' },
          { text: '東', reason: '「東」讀作「ひがし」。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '方位漢字讀音',
          analysis: '東（ひがし）、西（にし）、南（みなみ）、北（きた）是四個基本方位。',
          relatedRules: ['📖 本課單字「東・西・南・北」'],
        },
      },
      {
        id: 'n5_u4_l6_q3',
        category: 'vocabulary',
        level: 'N5',
        tags: ['time'],
        stem: '「きょねん」を漢字{かんじ}で書{か}くとどれですか。',
        stemZh: '「きょねん」用漢字寫是哪個？',
        options: [
          { text: '来年', reason: '「来年」讀作「らいねん」，是明年。' },
          { text: '毎年', reason: '「毎年」讀作「まいとし」，是每年。' },
          { text: '去年', reason: '正確。「去年」讀作「きょねん」，是去年。' },
          { text: '先月', reason: '「先月」讀作「せんげつ」，是上個月。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '時間漢字讀音',
          analysis: '「去年（きょねん）」= 去年。「来年（らいねん）」= 明年。注意讀音。',
          relatedRules: ['📖 本課單字「去年・来年」'],
        },
      },
      {
        id: 'n5_u4_l6_q4',
        category: 'vocabulary',
        level: 'N5',
        tags: ['place'],
        stem: '学校{がっこう}の＿＿は長{なが}くてきれいです。教室{きょうしつ}の前{まえ}を通{とお}れます。',
        stemZh: '學校的＿＿又長又漂亮。可以通過教室的前面。',
        options: [
          { text: '階段', reason: '「階段」是樓梯，不是用來描述「通過教室前面」。' },
          { text: '辺', reason: '「辺」是一帶、附近，不是建築物內部構造。' },
          { text: '角', reason: '「角」是轉角，不是通道。' },
          { text: '廊下', reason: '正確。「廊下」是走廊，用來連接各教室的通道。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '建築詞彙',
          analysis: '「廊下（ろうか）」= 走廊，是建築物內部的水平通道。「階段（かいだん）」= 樓梯。',
          relatedRules: ['📖 本課單字「廊下・階段」'],
        },
      },
      {
        id: 'n5_u4_l6_q5',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '私{わたし}は1990年{ねん}に東京{とうきょう}で＿＿ました。',
        stemZh: '我1990年在東京＿＿。',
        options: [
          { text: '渡り', reason: '「渡る」是渡過，不是出生。' },
          { text: '生まれ', reason: '正確。「生まれる」= 出生。「東京で生まれた」= 在東京出生。' },
          { text: '住み', reason: '「住む」是居住，不是出生。' },
          { text: '着き', reason: '「着く」是到達，不是出生。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「生まれる」的用法',
          analysis: '「生まれる（うまれる）」= 出生。場所 + で + 生まれる = 在某地出生。',
          relatedRules: ['📖 本課單字「生まれる」'],
        },
      },
      {
        id: 'n5_u4_l6_q6',
        category: 'vocabulary',
        level: 'N5',
        tags: ['verb'],
        stem: '橋{はし}を＿＿って、向{む}こうの公園{こうえん}に行{い}きましょう。',
        stemZh: '＿＿過橋，去對面的公園吧。',
        options: [
          { text: '曲がっ', reason: '「曲がる」是轉彎，不是渡過。' },
          { text: '止まっ', reason: '「止まる」是停止，不是渡過。' },
          { text: '渡っ', reason: '正確。「渡る」= 渡過。「橋を渡る」= 過橋。' },
          { text: '登っ', reason: '「登る」是爬，不是過橋。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「渡る」的用法',
          analysis: '「渡る（わたる）」= 渡過。「橋を渡る」= 過橋，「道を渡る」= 過馬路。',
          comparisons: ['渡る（自動詞）：橋を渡る', '渡す（他動詞）：物を渡す（交給東西）'],
          relatedRules: ['📖 本課單字「渡る」'],
        },
      },
      {
        id: 'n5_u4_l6_q7',
        category: 'vocabulary',
        level: 'N5',
        tags: ['time'],
        stem: '＿＿お正月{しょうがつ}は家族{かぞく}で旅行{りょこう}に行{い}きます。',
        stemZh: '＿＿過年全家去旅行。',
        options: [
          { text: '去年', reason: '「去年」是去年，後面要接過去式。' },
          { text: '先月', reason: '「先月」是上個月，不適合描述每年的事。' },
          { text: '毎年', reason: '正確。「毎年」= 每年。表達每年的習慣。' },
          { text: '来月', reason: '「来月」是下個月，不是每年。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '頻率時間詞',
          analysis: '「毎年（まいとし）」= 每年，「毎月（まいつき）」= 每月。表示習慣性動作。',
          comparisons: ['毎年：每年', '毎月：每月', '毎日：每天'],
          relatedRules: ['📖 本課單字「毎年・毎月」'],
        },
      },
      {
        id: 'n5_u4_l6_q8',
        category: 'vocabulary',
        level: 'N5',
        tags: ['place'],
        stem: '駅{えき}は家{いえ}の＿＿にあります。歩{ある}いて行{い}けます。',
        stemZh: '車站在家的＿＿。走路可以到。',
        options: [
          { text: '次', reason: '「次」是下一個，不是方位。' },
          { text: '辺', reason: '「辺」是一帶，但「家の辺」不太自然。' },
          { text: '町', reason: '「町」是城鎮，不適合「家の町」。' },
          { text: '近く', reason: '正確。「近く」= 附近。「家の近く」= 家附近。走路能到。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '「近く」的用法',
          analysis: '「近く」是「近い」的名詞形。「〜の近く」= 〜的附近。',
          relatedRules: ['📖 本課單字「近い」'],
        },
      },
      {
        id: 'n5_u4_l6_q9',
        category: 'grammar',
        level: 'N5',
        tags: ['mou'],
        stem: 'A：宿題{しゅくだい}は終{お}わりましたか。\nB：はい、＿＿終{お}わりました。',
        stemZh: 'A：作業做完了嗎？\nB：是的，＿＿做完了。',
        options: [
          { text: 'まだ', reason: '「まだ」是還（沒），用於否定回答。' },
          { text: 'もう', reason: '正確。「もう」= 已經。「もう終わりました」= 已經做完了。' },
          { text: 'ぜんぜん', reason: '「ぜんぜん」是完全不，語意不合。' },
          { text: 'あまり', reason: '「あまり」是不太，語意不合。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「もう」表已經完成',
          analysis: '「もう」= 已經。用於肯定回答：「もう〜ました」= 已經做了。',
          comparisons: ['肯定：もう終わりました（已經做完了）', '否定：まだ終わっていません（還沒做完）'],
          relatedRules: ['📖 本課文法「もう」'],
        },
      },
      {
        id: 'n5_u4_l6_q10',
        category: 'grammar',
        level: 'N5',
        tags: ['mada'],
        stem: 'A：もう荷物{にもつ}を送{おく}りましたか。\nB：いいえ、＿＿送{おく}っていません。',
        stemZh: 'A：已經把行李寄出了嗎？\nB：不，＿＿寄出。',
        options: [
          { text: 'もう', reason: '否定回答不搭配「もう」，應使用「まだ」。' },
          { text: 'ぜんぜん', reason: '「ぜんぜん」是完全不，語感過強且用法不同。' },
          { text: 'まだ', reason: '正確。「もう〜ましたか」的否定回答用「まだ〜ていません」。' },
          { text: 'あまり', reason: '「あまり」是不太，語意不合。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「もう」與「まだ」的搭配',
          analysis: '「もう〜ましたか」的否定用「まだ〜ていません」。肯定用「もう〜ました」。',
          relatedRules: ['📖 本課文法「もう・まだ」'],
        },
      },
      {
        id: 'n5_u4_l6_q11',
        category: 'grammar',
        level: 'N5',
        tags: ['mou'],
        stem: '＿＿桜{さくら}が咲{さ}いていますよ。見{み}に行{い}きましょう。',
        stemZh: '櫻花＿＿開了喔。去看看吧。',
        options: [
          { text: 'まだ', reason: '「まだ」是還沒，但這裡表示已經開了。' },
          { text: 'ぜんぜん', reason: '「ぜんぜん」是完全不，語意不合。' },
          { text: 'あまり', reason: '「あまり」是不太，語意不合。' },
          { text: 'もう', reason: '正確。「もう咲いている」= 已經開了。表示變化已發生。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '「もう」表變化已發生',
          analysis: '「もう」不僅表「已經完成」，也表「已經變成某狀態」。「もう咲いている」= 已經開了。',
          relatedRules: ['📖 本課文法「もう」'],
        },
      },
      {
        id: 'n5_u4_l6_q12',
        category: 'grammar',
        level: 'N5',
        tags: ['mada'],
        stem: '＿＿時間{じかん}がありますから、ゆっくりしてください。',
        stemZh: '＿＿有時間，請慢慢來。',
        options: [
          { text: 'もう', reason: '「もう」是已經，不適合此語境。' },
          { text: 'まだ', reason: '正確。「まだ時間がある」= 還有時間。「まだ」表持續狀態。' },
          { text: 'ぜんぜん', reason: '「ぜんぜん」是完全不，語意不合。' },
          { text: 'あまり', reason: '「あまり」是不太，語意不合。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「まだ」表持續狀態',
          analysis: '「まだ」= 還。表示某狀態仍然持續。「まだ時間がある」= 還有時間。',
          relatedRules: ['📖 本課文法「まだ」'],
        },
      },
      {
        id: 'n5_u4_l6_q13',
        category: 'grammar',
        level: 'N5',
        tags: ['mou', 'mada'],
        stem: 'A：もう次{つぎ}の家{いえ}は決{き}まりましたか。\nB：はい、＿＿。',
        stemZh: 'A：下一個住處已經決定了嗎？\nB：是的，＿＿。',
        options: [
          { text: 'まだです', reason: '「まだです」是還沒，但回答是「はい」，表示已經決定。' },
          { text: 'まだ決まっていません', reason: '「まだ決まっていません」是還沒決定，但回答是肯定。' },
          { text: 'もう決まりました', reason: '正確。「はい」+ 「もう決まりました」= 是的，已經決定了。' },
          { text: 'ぜんぜん決まりません', reason: '「ぜんぜん」是完全不，語意不合。' },
        ],
        correctIndex: 2,
        explanation: {
          keyPoint: '「もう〜ましたか」的肯定回答',
          analysis: '肯定回答：「はい、もう〜ました」。否定回答：「いいえ、まだ〜ていません」。',
          comparisons: ['肯定：はい、もう決まりました', '否定：いいえ、まだ決まっていません'],
          relatedRules: ['📖 本課文法「もう・まだ」'],
        },
      },
      {
        id: 'n5_u4_l6_q14',
        category: 'grammar',
        level: 'N5',
        tags: ['mada'],
        stem: '外{そと}は＿＿雨{あめ}が降{ふ}っています。傘{かさ}を持{も}っていってください。',
        stemZh: '外面＿＿在下雨。請帶傘去。',
        options: [
          { text: 'もう', reason: '「もう」是已經，這裡強調持續下雨中。' },
          { text: 'まだ', reason: '正確。「まだ降っている」= 還在下。表示雨仍然持續。' },
          { text: 'ぜんぜん', reason: '「ぜんぜん」用於否定，不適合此處。' },
          { text: 'たくさん', reason: '「たくさん」是很多，語意不同。' },
        ],
        correctIndex: 1,
        explanation: {
          keyPoint: '「まだ」+ ている 表持續中',
          analysis: '「まだ〜ている」= 還在做～。「まだ雨が降っている」= 還在下雨。',
          relatedRules: ['📖 本課文法「まだ」'],
        },
      },
      {
        id: 'n5_u4_l6_q15',
        category: 'grammar',
        level: 'N5',
        tags: ['mou', 'mada', 'comprehensive'],
        stem: 'A：引{ひ}っ越{こ}しの準備{じゅんび}はもう終{お}わりましたか。\nB：いいえ、＿＿。来月{らいげつ}までに終{お}わらせたいです。',
        stemZh: 'A：搬家的準備已經做完了嗎？\nB：不，＿＿。想在下個月之前完成。',
        options: [
          { text: 'もう終わりました', reason: '「もう終わりました」是肯定，但回答是「いいえ」。' },
          { text: 'まだ終わりません', reason: '「終わりません」是否定現在式，不是「還沒」的正確說法。' },
          { text: 'もう終わっていません', reason: '「もう」用於肯定，不搭配「ていません」。' },
          { text: 'まだ終わっていません', reason: '正確。「まだ終わっていません」= 還沒做完。' },
        ],
        correctIndex: 3,
        explanation: {
          keyPoint: '「もう〜ましたか」的否定回答',
          analysis: '「もう〜ましたか」問已經做了嗎。否定回答：「まだ〜ていません」= 還沒做。',
          comparisons: ['肯定：もう終わりました', '否定：まだ終わっていません'],
          relatedRules: ['📖 本課文法「もう・まだ」'],
        },
      },
    ] as UnifiedQuestion[],
  },
]
