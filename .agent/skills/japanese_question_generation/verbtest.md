---
name: Japanese Verb Question Generation
description: 製作高品質日文動詞變位題目的標準作業程序 (SOP)，包含格式、翻譯規範與詳解要求。
---

# 日文動詞題目生成指南

此技能用於指導 AI 如何手動撰寫符合專案標準的高品質日文動詞變位題目 (StaticQuestion)。

## 1. 核心原則 (Core Principles)

- **拒絕腳本生成**：必須由 AI 逐題手寫，確保語境邏輯 (Context) 與語意 (Semantics) 正確。
- **台灣繁體中文**：所有翻譯必須使用自然的台灣繁體中文口語。
- **雙語詳解**：解釋中必須附上完整中文翻譯。
- **生成複合句型**：生成複雜但合乎邏輯的複合句型。
- **生成對話句型**：同一個動詞會有兩個題目，其中一個題目須為兩人對話。
- **詳細的解釋**：錯誤的選項需解釋錯誤原因。

## 2. 題目結構規範 (Question Structure)

每個題目必須符合 `StaticQuestion` 介面，並寫入 `src/data/questions/n{level}.ts`：

```typescript
{
    id: 'n1_gen_verbname_1', // 格式: {level}_gen_{verb}_{index}
    prob: '日文題目句子...',   // 必須包含漢字與{假名}
    prob_zh: '中文翻譯句子...', // *重點規範見下文*
    level: 'N1',
    options: [  
        // ⚠️ 選項設計規則：
        // - 正確答案：符合題目語境的動詞變化形態
        // - 錯誤選項 x2：正確答案的「其他變化形態」（如：て形、ない形、使役形、可能形、受身形等）
        // - 干擾選項 x1：「意思相近的不同動詞」（如：「開ける」vs「空ける」，「切る」vs「斬る」）
        // ⚠️ 選項順序必須隨機變換，不可永遠把正確答案放在同一位置
        { text: '正確變化形態', reason: '正確！...' },
        { text: '錯誤變化形態1', reason: '錯誤：此為「X形」，但題目需要「Y形」...' },
        { text: '錯誤變化形態2', reason: '錯誤：此為「Z形」，但題目需要「Y形」...' },
        { text: '近義干擾詞', reason: '錯誤：「A」與「B」意思相近但語境不符...' }
    ],
    correctIndex: 1, // 正確選項的索引 (0-3)，需隨機分布於 0-3 之間
    tag: 'vocab', // 或 grammar, conjugation, keigo 等
    correctRule: '詳細解析...' // *重點規範見下文*
}
```

## 3. 翻譯規範 (Translation Rules)

### `prob_zh` (題目翻譯)

- **不要**使用底線 `______` 或括號 `(答案)`。
- **必須**使用星號 `*` 包裹答案單字，此標記會由前端渲染為 **粉色斜體**。
- **範例**：
  - ❌ 錯誤：`既然是社長的命令，就不得不______(服從)。`
  - ✅ 正確：`既然是社長的命令，就不得不 *服從*。`

## 4. 詳解規範 (Explanation Rules)

### `correctRule` (正解解析)

### `correctRule` (正解解析)

**解析內容必須包含以下三點（順序不拘，但建議如下）：**

1. **考點解析 (Exam Focus)**：明確指出此題是在考什麼（例：自動詞他動詞辨析、使役受身形、特定慣用句）。
2. **規則與語感 (Rule & Nuance)**：解釋文法規則或單字語感，並附上完整中文翻譯。若引用日文例句，**必須**在後方括號內提供翻譯。
3. **延伸學習 (Extension)**：
    - **相關動詞 (Related Verbs)**：列出同義詞、反義詞或容易混淆的動詞，**每個相關詞必須附例句與中文翻譯**，並說明與正確答案的差異。
    - **易錯點 (Common Pitfalls)**：指出學生常犯的錯誤，**必須附具體反例**（標示 ○ 正確用法、✕ 錯誤用法）。

**範例**：

- ✅ 正確：

  ```text
  【考點】自他動詞辨析 + て形接續。

  【解析】「壊す」(他動詞) 表示人為破壞；「壊れる」(自動詞) 表示物品自然損壞。此處助詞為「を」且有明確動作者「弟」，故應選他動詞的て形「壊して」。

  【相關詞比較】
  ・壊す (こわす/他動詞)：人為破壞。例：「子供がテレビを壊した。」（小孩把電視弄壞了。）
  ・壊れる (こわれる/自動詞)：自然損壞。例：「古い時計が壊れた。」（舊時鐘壞掉了。）
  ・割る (わる/他動詞)：打破（玻璃、蛋等脆物）。例：「窓ガラスを割った。」（打破了窗戶玻璃。）
  ・割れる (われる/自動詞)：破裂、碎掉。例：「コップが割れた。」（杯子破了。）

  【易錯點】
  1. 助詞判斷：「を」通常搭配他動詞、「が」通常搭配自動詞。
     ・○「弟がおもちゃを壊した」(弟弟弄壞玩具) → 他動詞
     ・○「おもちゃが壊れた」(玩具壞了) → 自動詞
     ・✕「おもちゃを壊れた」→ 助詞與動詞類型不匹配
  2. 語意混淆：「壊す」強調外力破壞，「割る」強調物體碎裂。
     ・○「機械を壊す」（弄壞機器）
     ・✕「機械を割る」（割る 用於玻璃、蛋等，不適用於機器）
  ```

### `options.reason` (選項解析)

- **正確選項**：**必須**以 `正確！` 開頭，簡述理由。
- **錯誤選項**：**禁止**使用 `正確！` 開頭。**必須**以 `錯誤：` 開頭，並指出具體錯誤（如：語意不符、詞性錯誤、接續錯誤、非標準用法等）。即便該選項文法正確但不適合此題情境，也必須寫明「錯誤：語意不通...」或類似解釋。

## 5. 執行流程 (Workflow)

1. **選詞**：選定不重複的 10 個目標動詞 (參考 `src/data/verbs_imported.ts`)。
2. **設計**：為每個動詞設計 2 個情境：
   - 情境 A：考語彙搭配、慣用句或細微語感 (Idiom/Nuance)。
   - 情境 B：考文法接續、使役/受身變化或正確時態 (Grammar/Conjugation)。
3. **撰寫**：使用正確格式將題目加入對應等級的 `n*.ts` 檔案中。**加入新生成的動詞時，請依原本的次序往後加**。
   - **備註標號**：請確保註解中的動詞編號 (e.g. `// 121. 動詞`) 是接續上一批次的流水號，標號**不會**因為新的一批次而重置。
4. **驗證**：執行 `npx tsc --noEmit` 確認 TypeScript 類型無誤。
5. **檢查**：最後確認文件裡的動詞順序標號 (ID) 是否依照順序排列，若標號沒有依照順序，請進行修正。
