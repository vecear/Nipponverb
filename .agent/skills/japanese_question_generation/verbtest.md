---
name: Japanese Verb Question Generation
description: 製作高品質日文動詞變位題目的標準作業程序 (SOP)
---

# 日文動詞題目生成指南

> 此技能指導 AI 手動撰寫日文動詞變位題目 (StaticQuestion)

---

## 快速檢查清單

執行前後請確認以下項目：

- [ ] 每個動詞產生 2 題（情境 A + 情境 B）
- [ ] `prob_zh` 使用 `*答案*` 格式，非底線或括號
- [ ] `correctIndex` 隨機分布於 0-3
- [ ] 錯誤選項必須有明確錯誤（拼字/文法/語意）
- [ ] 動詞標號接續上一個編號
- [ ] 執行 `npx tsc --noEmit` 無錯誤
- [ ] 檢查動詞標號是否連續（無跳號、無重複）

---

## 1. 核心原則

| 原則 | 說明 |
|------|------|
| 逐題手寫 | 禁止腳本批量生成，確保語境與語意正確 |
| 台灣繁體中文 | 翻譯使用自然的台灣口語 |
| 雙語詳解 | 所有解釋附完整中文翻譯 |
| 對話句型 | 每個動詞的 2 題中，至少 1 題為兩人對話 |

---

## 2. 檔案與結構

**寫入路徑**：`src/data/questions/n{level}.ts`

```typescript
{
    id: 'n5_gen_taberu_1',        // {level}_gen_{verb}_{1或2}
    prob: '日文句子...',           // 漢字標註{假名}
    prob_zh: '中文翻譯...',        // 用 *星號* 標記答案
    level: 'N5',
    options: [
        { text: '選項', reason: '正確！理由...' },
        { text: '選項', reason: '錯誤：理由...' },
        { text: '選項', reason: '錯誤：理由...' },
        { text: '選項', reason: '錯誤：理由...' }
    ],
    correctIndex: 0,              // 0-3 隨機分布
    tag: 'vocab',                 // vocab | grammar | conjugation | keigo
    correctRule: '【考點】...\n【解析】...\n【相關詞比較】...\n【易錯點】...'
}
```

---

## 3. 選項設計

### 3.1 選項組成（共 4 個）

| 類型 | 數量 | 說明 |
|------|------|------|
| 正確答案 | 1 | 符合語境的動詞變化形態 |
| 錯誤選項 | 2 | 同動詞的其他變化形態（て形、ない形、使役形等） |
| 干擾選項 | 1 | 意思相近的不同動詞（如「開ける」vs「空ける」） |

### 3.2 錯誤選項必要條件（重要）

**錯誤選項必須符合至少一項**：

1. **拼字錯誤** — 假名拼寫有誤
2. **文法錯誤** — 動詞變化形式錯誤
3. **語意不通** — 放入句子後邏輯不通

**禁止**：錯誤選項放入句子後文法正確且語意通順。

> 理由：做題者不知道原句想表達什麼，若錯誤選項也說得通，單選題就失效。

---

## 4. 格式規範

### 4.1 prob_zh（中文翻譯）

| 規則 | 範例 |
|------|------|
| ✅ 正確 | `請 *打開* 書。` |
| ❌ 錯誤 | `請______(打開)書。` |

用 `*` 包裹答案，前端會渲染為粉色斜體。

### 4.2 options.reason（選項理由）

| 類型 | 開頭 | 範例 |
|------|------|------|
| 正確 | `正確！` | `正確！一段動詞て形。` |
| 錯誤 | `錯誤：` | `錯誤：此為過去式，非て形。` |

### 4.3 correctRule（正解詳解）

必須包含四個區塊，**所有日文漢字須標註{假名}**：

```
【考點】此題考什麼（如：自他動詞辨析）
【解析】文法規則說明，日文例句須附中文翻譯
【相關詞比較】列出相關動詞，每個附例句與翻譯
【易錯點】常見錯誤，用 ○ 標正確、✕ 標錯誤
```

> 注意：【解析】【相關詞比較】【易錯點】中的日文漢字都要加上 `{假名}` 標註

---

## 5. 動詞標號

### 5.1 格式

每個動詞題目區塊前加註解：

```typescript
// 81. 勤める (Tsutomeru)
{ id: 'n5_gen_tsutomeru_1', ... },
{ id: 'n5_gen_tsutomeru_2', ... },

// 82. 出かける (Dekakeru)
{ id: 'n5_gen_dekakeru_1', ... },
{ id: 'n5_gen_dekakeru_2', ... },
```

### 5.2 規則

| 項目 | 說明 |
|------|------|
| 格式 | `// {編號}. {動詞} ({羅馬拼音})` |
| 接續 | 從檔案最後一個標號 +1 開始 |
| 不重置 | 全檔案流水號，不因新批次重置 |
| 用途 | 統計檔案涵蓋的動詞總數 |

---

## 6. 執行流程

| 步驟 | 動作 | 說明 |
|------|------|------|
| 1 | 選詞 | 選 10 個不重複動詞（參考 `src/data/verbs_imported.ts`） |
| 2 | 設計 | 每個動詞 2 題：A=語彙/慣用句、B=文法/變化 |
| 3 | 撰寫 | 加入 `n{level}.ts`，動詞標號接續 |
| 4 | 驗證 | 執行 `npx tsc --noEmit` |
| 5 | 檢查 | 確認動詞標號連續無跳號 |

---

## 7. 完整範例

```typescript
// 1. 食べる (Taberu)
{
    id: 'n5_gen_taberu_1',
    prob: '朝{あさ}ご飯{はん}を ______ ください。',
    prob_zh: '請 *吃* 早餐。',
    level: 'N5',
    options: [
        { text: '食{た}べて', reason: '正確！一段動詞て形，去「る」加「て」。' },
        { text: '食{た}べた', reason: '錯誤：這是過去式，非て形。' },
        { text: '食{た}べ', reason: '錯誤：這是連用形，不能接「ください」。' },
        { text: '飲{の}んで', reason: '錯誤：「飲む」是喝，語意不符。' }
    ],
    correctIndex: 0,
    tag: 'conjugation',
    correctRule: `【考點】一段動詞て形變化。

【解析】「食{た}べる」是一段動詞，て形變化為去「る」加「て」→「食{た}べて」。「〜てください」表示請求。

【相關詞比較】
・食{た}べる：吃。例：「りんごを食{た}べる。」（吃蘋果。）
・飲{の}む：喝。例：「水{みず}を飲{の}む。」（喝水。）

【易錯點】
1. 一段 vs 五段判斷：
   ・○「食{た}べる」→「食{た}べて」（一段：去る加て）
   ・✕「食{た}べる」→「食{た}べって」（誤用五段規則）`
},
{
    id: 'n5_gen_taberu_2',
    prob: '「何{なに}を食{た}べますか？」「ラーメンを ______。」',
    prob_zh: '「要吃什麼？」「*吃* 拉麵。」',
    level: 'N5',
    options: [
        { text: '食{た}べない', reason: '錯誤：否定形，語意矛盾。' },
        { text: '食{た}べます', reason: '正確！一段動詞ます形，回答提問。' },
        { text: '食{た}べた', reason: '錯誤：過去式，時態不符。' },
        { text: '食{た}べれば', reason: '錯誤：條件形，語意不通。' }
    ],
    correctIndex: 1,
    tag: 'conjugation',
    correctRule: `【考點】一段動詞ます形 + 對話情境。

【解析】回答「何{なに}を食{た}べますか？」時，使用同樣的ます形回應。「食{た}べる」→「食{た}べます」。

【相關詞比較】
・食{た}べます（禮貌體）：正式場合使用
・食{た}べる（普通體）：朋友間或非正式場合

【易錯點】
1. 時態一致：問句用ます形，答句也用ます形
   ・○「食{た}べますか？」→「食{た}べます。」
   ・✕「食{た}べますか？」→「食{た}べた。」（時態不一致）`
}
```
