---
name: Japanese Verb Question Generation
description: 製作高品質日文動詞變位題目的標準作業程序 (SOP)，包含格式、翻譯規範與詳解要求。
---

# 日文動詞題目生成指南

此技能用於指導 AI 如何手動撰寫符合專案標準的高品質日文動詞變位題目 (StaticQuestion)。

## 1. 核心原則 (Core Principles)
- **拒絕腳本生成**：必須由 AI 逐題手寫，確保語境邏輯 (Context) 與語意 (Semantics) 正確。
- **台灣繁體中文**：所有翻譯必須使用自然的台灣繁體中文口語。
- **雙語詳解**：解釋中必須附上完整中文翻譯。

## 2. 題目結構規範 (Question Structure)

每個題目必須符合 `StaticQuestion` 介面，並寫入 `src/data/questions/n{level}.ts`：

```typescript
{
    id: 'n1_gen_verbname_1', // 格式: {level}_gen_{verb}_{index}
    prob: '日文題目句子...',   // 必須包含漢字與{假名}
    prob_zh: '中文翻譯句子...', // *重點規範見下文*
    level: 'N1',
    options: [
        { text: '選項1', reason: '錯誤原因...' }, // 必須有具體原因
        { text: '選項2', reason: '正確！...' },
        { text: '選項3', reason: '錯誤原因...' },
        { text: '選項4', reason: '錯誤原因...' }
    ],
    correctIndex: 0, // 正確選項的索引 (0-3)
    tag: 'vocab', // 或 grammar, conjugation, keigo 等
    correctRule: '詳細解析...' // *重點規範見下文*
}
```

## 3. 翻譯規範 (Translation Rules)

### `prob_zh` (題目翻譯)

- **不要**使用底線 `______` 或括號 `(答案)`。
- **必須**使用星號 `*` 包裹答案單字，此標記會由前端渲染為 **粉色斜體**。
- **範例**：
  - ❌ 錯誤：`既然是社長的命令，就不得不______(服從)。`
  - ✅ 正確：`既然是社長的命令，就不得不 *服從*。`

## 4. 詳解規範 (Explanation Rules)

### `correctRule` (正解解析)

- **解釋規則**：題目完整的中文翻譯後，再說明文法規則、單字語感或慣用搭配。
- **雙語例句**：若在解析中引用任何日文短句或例句，**必須**在後方括號內提供完整中文翻譯。
- **範例**：
  - ❌ 錯誤：`常用的慣用句有「敵を欺くにはまず味方から」。`
  - ✅ 正確：`常用的慣用句有「敵を欺くにはまず味方から」(要騙過敵人，先從自家人開始)。`

### `options.reason` (選項解析)

- **正確選項**：以 `正確！` 開頭，簡述理由。
- **錯誤選項**：以 `錯誤：` 開頭，指出具體錯誤（如：時態不對、自動詞誤用、語意不通），不可只寫「語法錯誤」。

## 5. 執行流程 (Workflow)

1. **選詞**：選定不重複的 10 個目標動詞 (參考 `src/data/verbs_imported.ts`)。
2. **設計**：為每個動詞設計 2 個情境：
   - 情境 A：考語彙搭配、慣用句或細微語感 (Idiom/Nuance)。
   - 情境 B：考文法接續、使役/受身變化或正確時態 (Grammar/Conjugation)。
3. **撰寫**：使用正確格式將題目加入對應等級的 `n*.ts` 檔案中。**加入新生成的動詞時，請依原本的次序往後加**。
   - **備註標號**：請確保註解中的動詞編號 (e.g. `// 121. 動詞`) 是接續上一批次的流水號，標號**不會**因為新的一批次而重置。
4. **驗證**：執行 `npx tsc --noEmit` 確認 TypeScript 類型無誤。
5. **檢查**：最後確認文件裡的動詞順序標號 (ID) 是否依照順序排列，若標號沒有依照順序，請進行修正。
